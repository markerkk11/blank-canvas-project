/*! Copyright 2025 SweetCode. All rights reserved. */(()=>{var e,t,r,a,o={160:function(e,t,r){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],n=0,s=i.length;n<s;n++,o++)a[o]=i[n];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isSpecial=t.isReserved=t.isIPv4MappedAddress=t.isLocalhost=t.isPrivate=t.createChecker=t.isInSubnet=t.extractMappedIpv4=void 0;var o=r(609),i=r(503),n=/\./,s=/^(.+:ffff:)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?:%.+)?$/,c=/:/,p=/::/;function u(e){if(!o.isIPv6(e))throw new Error("not a valid IPv6 address: "+e);if(n.test(e))return u(function(e){var t=e.match(s);if(!t||!o.isIPv4(t[2]))throw new Error("not a mapped IPv4 address: "+e);var r=t[1],a=t[2].split(n).map(function(e){return parseInt(e,10)});return""+r+((a[0]<<8)+a[1]).toString(16)+":"+((a[2]<<8)+a[3]).toString(16)}(e));var t=e.split(p),r=t[0],a=t[1],i=r&&r.split(c)||[],d=a&&a.split(c)||[],l=new Array(8-(i.length+d.length));return i.concat(l,d)}function d(e){if(Array.isArray(e)){var t=e.map(function(e){return l(e)});return function(e){var r=u(e);return t.some(function(e){return e(r)})}}var r=l(e);return function(e){var t=u(e);return r(t)}}function l(e){var t=e.split("/"),r=t[0],a=t[1],o=parseInt(a,10);if(!r||!Number.isInteger(o))throw new Error("not a valid IPv6 CIDR subnet: "+e);if(o<0||o>128)throw new Error("not a valid IPv6 prefix length: "+o+" (from "+e+")");var i=u(r);return function(e){for(var t=0;t<8;++t){var r=Math.min(o-16*t,16);if(r<=0)break;if((i[t]&&parseInt(i[t],16)||0)>>16-r!==(e[t]&&parseInt(e[t],16)||0)>>16-r)return!1}return!0}}t.extractMappedIpv4=function(e){var t=e.match(s);if(!t||!o.isIPv4(t[2]))throw new Error("not a mapped IPv4 address: "+e);return t[2]},t.isInSubnet=function(e,t){return d(t)(e)},t.createChecker=d;var m={};t.isPrivate=function(e){return"private"in m==!1&&(m.private=d(i.default.private.ipv6)),m.private(e)},t.isLocalhost=function(e){return"localhost"in m==!1&&(m.localhost=d(i.default.localhost.ipv6)),m.localhost(e)},t.isIPv4MappedAddress=function(e){if("mapped"in m==!1&&(m.mapped=d("::ffff:0:0/96")),m.mapped(e)){var t=e.match(s);return Boolean(t&&o.isIPv4(t[2]))}return!1},t.isReserved=function(e){return"reserved"in m==!1&&(m.reserved=d(i.default.reserved.ipv6)),m.reserved(e)},t.isSpecial=function(e){return"special"in m==!1&&(m.special=d(a(i.default.private.ipv6,i.default.localhost.ipv6,i.default.reserved.ipv6))),m.special(e)}},179:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getLocationByTimeZone:()=>a});const a=()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(""===e||!e)return null;let t={countryCode:{"Africa/Abidjan":["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"],"Africa/Accra":["GH"],"Africa/Addis_Ababa":["ET"],"Africa/Algiers":["DZ"],"Africa/Asmara":["ER"],"Africa/Asmera":["ER"],"Africa/Bamako":["ML"],"Africa/Bangui":["CF"],"Africa/Banjul":["GM"],"Africa/Bissau":["GW"],"Africa/Blantyre":["MW"],"Africa/Brazzaville":["CG"],"Africa/Bujumbura":["BI"],"Africa/Cairo":["EG"],"Africa/Casablanca":["MA"],"Africa/Ceuta":["ES"],"Africa/Conakry":["GN"],"Africa/Dakar":["SN"],"Africa/Dar_es_Salaam":["TZ"],"Africa/Djibouti":["DJ"],"Africa/Douala":["CM"],"Africa/El_Aaiun":["EH"],"Africa/Freetown":["SL"],"Africa/Gaborone":["BW"],"Africa/Harare":["ZW"],"Africa/Johannesburg":["ZA","LS","SZ"],"Africa/Juba":["SS"],"Africa/Kampala":["UG"],"Africa/Khartoum":["SD"],"Africa/Kigali":["RW"],"Africa/Kinshasa":["CD"],"Africa/Lagos":["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"],"Africa/Libreville":["GA"],"Africa/Lome":["TG"],"Africa/Luanda":["AO"],"Africa/Lubumbashi":["CD"],"Africa/Lusaka":["ZM"],"Africa/Malabo":["GQ"],"Africa/Maputo":["MZ","BI","BW","CD","MW","RW","ZM","ZW"],"Africa/Maseru":["LS"],"Africa/Mbabane":["SZ"],"Africa/Mogadishu":["SO"],"Africa/Monrovia":["LR"],"Africa/Nairobi":["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"],"Africa/Ndjamena":["TD"],"Africa/Niamey":["NE"],"Africa/Nouakchott":["MR"],"Africa/Ouagadougou":["BF"],"Africa/Porto-Novo":["BJ"],"Africa/Sao_Tome":["ST"],"Africa/Timbuktu":["ML"],"Africa/Tripoli":["LY"],"Africa/Tunis":["TN"],"Africa/Windhoek":["NA"],"America/Adak":["US"],"America/Anchorage":["US"],"America/Anguilla":["AI"],"America/Antigua":["AG"],"America/Araguaina":["BR"],"America/Argentina/Buenos_Aires":["AR"],"America/Argentina/Catamarca":["AR"],"America/Argentina/Cordoba":["AR"],"America/Argentina/Jujuy":["AR"],"America/Argentina/La_Rioja":["AR"],"America/Argentina/Mendoza":["AR"],"America/Argentina/Rio_Gallegos":["AR"],"America/Argentina/Salta":["AR"],"America/Argentina/San_Juan":["AR"],"America/Argentina/San_Luis":["AR"],"America/Argentina/Tucuman":["AR"],"America/Argentina/Ushuaia":["AR"],"America/Aruba":["AW"],"America/Asuncion":["PY"],"America/Atikokan":["CA"],"America/Bahia":["BR"],"America/Bahia_Banderas":["MX"],"America/Barbados":["BB"],"America/Belem":["BR"],"America/Belize":["BZ"],"America/Blanc-Sablon":["CA"],"America/Boa_Vista":["BR"],"America/Bogota":["CO"],"America/Boise":["US"],"America/Cambridge_Bay":["CA"],"America/Campo_Grande":["BR"],"America/Cancun":["MX"],"America/Caracas":["VE"],"America/Cayenne":["GF"],"America/Cayman":["KY"],"America/Chicago":["US"],"America/Chihuahua":["MX"],"America/Coral_Harbour":["CA"],"America/Costa_Rica":["CR"],"America/Creston":["CA"],"America/Cuiaba":["BR"],"America/Curacao":["CW"],"America/Danmarkshavn":["GL"],"America/Dawson":["CA"],"America/Dawson_Creek":["CA"],"America/Denver":["US"],"America/Detroit":["US"],"America/Dominica":["DM"],"America/Edmonton":["CA"],"America/Eirunepe":["BR"],"America/El_Salvador":["SV"],"America/Fort_Nelson":["CA"],"America/Fortaleza":["BR"],"America/Glace_Bay":["CA"],"America/Goose_Bay":["CA"],"America/Grand_Turk":["TC"],"America/Grenada":["GD"],"America/Guadeloupe":["GP"],"America/Guatemala":["GT"],"America/Guayaquil":["EC"],"America/Guyana":["GY"],"America/Halifax":["CA"],"America/Havana":["CU"],"America/Hermosillo":["MX"],"America/Indiana/Indianapolis":["US"],"America/Indiana/Knox":["US"],"America/Indiana/Marengo":["US"],"America/Indiana/Petersburg":["US"],"America/Indiana/Tell_City":["US"],"America/Indiana/Vevay":["US"],"America/Indiana/Vincennes":["US"],"America/Indiana/Winamac":["US"],"America/Inuvik":["CA"],"America/Iqaluit":["CA"],"America/Jamaica":["JM"],"America/Juneau":["US"],"America/Kentucky/Louisville":["US"],"America/Kentucky/Monticello":["US"],"America/Kralendijk":["BQ"],"America/La_Paz":["BO"],"America/Lima":["PE"],"America/Los_Angeles":["US"],"America/Lower_Princes":["SX"],"America/Maceio":["BR"],"America/Managua":["NI"],"America/Manaus":["BR"],"America/Marigot":["MF"],"America/Martinique":["MQ"],"America/Matamoros":["MX"],"America/Mazatlan":["MX"],"America/Menominee":["US"],"America/Merida":["MX"],"America/Metlakatla":["US"],"America/Mexico_City":["MX"],"America/Miquelon":["PM"],"America/Moncton":["CA"],"America/Monterrey":["MX"],"America/Montevideo":["UY"],"America/Montreal":["CA"],"America/Montserrat":["MS"],"America/Nassau":["BS"],"America/New_York":["US"],"America/Nipigon":["CA"],"America/Nome":["US"],"America/Noronha":["BR"],"America/North_Dakota/Beulah":["US"],"America/North_Dakota/Center":["US"],"America/North_Dakota/New_Salem":["US"],"America/Nuuk":["GL"],"America/Ojinaga":["MX"],"America/Panama":["PA","CA","KY"],"America/Pangnirtung":["CA"],"America/Paramaribo":["SR"],"America/Phoenix":["US","CA"],"America/Port-au-Prince":["HT"],"America/Port_of_Spain":["TT"],"America/Porto_Velho":["BR"],"America/Puerto_Rico":["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"],"America/Punta_Arenas":["CL"],"America/Rainy_River":["CA"],"America/Rankin_Inlet":["CA"],"America/Recife":["BR"],"America/Regina":["CA"],"America/Resolute":["CA"],"America/Rio_Branco":["BR"],"America/Santarem":["BR"],"America/Santiago":["CL"],"America/Santo_Domingo":["DO"],"America/Sao_Paulo":["BR"],"America/Scoresbysund":["GL"],"America/Sitka":["US"],"America/St_Barthelemy":["BL"],"America/St_Johns":["CA"],"America/St_Kitts":["KN"],"America/St_Lucia":["LC"],"America/St_Thomas":["VI"],"America/St_Vincent":["VC"],"America/Swift_Current":["CA"],"America/Tegucigalpa":["HN"],"America/Thule":["GL"],"America/Thunder_Bay":["CA"],"America/Tijuana":["MX"],"America/Toronto":["CA","BS"],"America/Tortola":["VG"],"America/Vancouver":["CA"],"America/Virgin":["VI"],"America/Whitehorse":["CA"],"America/Winnipeg":["CA"],"America/Yakutat":["US"],"America/Yellowknife":["CA"],"Antarctica/Casey":["AQ"],"Antarctica/Davis":["AQ"],"Antarctica/DumontDUrville":["AQ"],"Antarctica/Macquarie":["AU"],"Antarctica/Mawson":["AQ"],"Antarctica/McMurdo":["AQ"],"Antarctica/Palmer":["AQ"],"Antarctica/Rothera":["AQ"],"Antarctica/South_Pole":["AQ"],"Antarctica/Syowa":["AQ"],"Antarctica/Troll":["AQ"],"Antarctica/Vostok":["AQ"],"Arctic/Longyearbyen":["SJ"],"Asia/Aden":["YE"],"Asia/Almaty":["KZ"],"Asia/Amman":["JO"],"Asia/Anadyr":["RU"],"Asia/Aqtau":["KZ"],"Asia/Aqtobe":["KZ"],"Asia/Ashgabat":["TM"],"Asia/Atyrau":["KZ"],"Asia/Baghdad":["IQ"],"Asia/Bahrain":["BH"],"Asia/Baku":["AZ"],"Asia/Bangkok":["TH","KH","LA","VN"],"Asia/Barnaul":["RU"],"Asia/Beirut":["LB"],"Asia/Bishkek":["KG"],"Asia/Brunei":["BN"],"Asia/Chita":["RU"],"Asia/Choibalsan":["MN"],"Asia/Colombo":["LK"],"Asia/Damascus":["SY"],"Asia/Dhaka":["BD"],"Asia/Dili":["TL"],"Asia/Dubai":["AE","OM"],"Asia/Dushanbe":["TJ"],"Asia/Famagusta":["CY"],"Asia/Gaza":["PS"],"Asia/Hebron":["PS"],"Asia/Ho_Chi_Minh":["VN"],"Asia/Hong_Kong":["HK"],"Asia/Hovd":["MN"],"Asia/Irkutsk":["RU"],"Asia/Jakarta":["ID"],"Asia/Jayapura":["ID"],"Asia/Jerusalem":["IL"],"Asia/Kabul":["AF"],"Asia/Kamchatka":["RU"],"Asia/Karachi":["PK"],"Asia/Kathmandu":["NP"],"Asia/Khandyga":["RU"],"Asia/Kolkata":["IN"],"Asia/Krasnoyarsk":["RU"],"Asia/Kuala_Lumpur":["MY"],"Asia/Kuching":["MY"],"Asia/Kuwait":["KW"],"Asia/Macau":["MO"],"Asia/Magadan":["RU"],"Asia/Makassar":["ID"],"Asia/Manila":["PH"],"Asia/Muscat":["OM"],"Asia/Nicosia":["CY"],"Asia/Novokuznetsk":["RU"],"Asia/Novosibirsk":["RU"],"Asia/Omsk":["RU"],"Asia/Oral":["KZ"],"Asia/Phnom_Penh":["KH"],"Asia/Pontianak":["ID"],"Asia/Pyongyang":["KP"],"Asia/Qatar":["QA","BH"],"Asia/Qostanay":["KZ"],"Asia/Qyzylorda":["KZ"],"Asia/Riyadh":["SA","AQ","KW","YE"],"Asia/Sakhalin":["RU"],"Asia/Samarkand":["UZ"],"Asia/Seoul":["KR"],"Asia/Shanghai":["CN"],"Asia/Singapore":["SG","MY"],"Asia/Srednekolymsk":["RU"],"Asia/Taipei":["TW"],"Asia/Tashkent":["UZ"],"Asia/Tbilisi":["GE"],"Asia/Tehran":["IR"],"Asia/Thimphu":["BT"],"Asia/Tokyo":["JP"],"Asia/Tomsk":["RU"],"Asia/Ulaanbaatar":["MN"],"Asia/Urumqi":["CN"],"Asia/Ust-Nera":["RU"],"Asia/Vientiane":["LA"],"Asia/Vladivostok":["RU"],"Asia/Yakutsk":["RU"],"Asia/Yangon":["MM"],"Asia/Yekaterinburg":["RU"],"Asia/Yerevan":["AM"],"Atlantic/Azores":["PT"],"Atlantic/Bermuda":["BM"],"Atlantic/Canary":["ES"],"Atlantic/Cape_Verde":["CV"],"Atlantic/Faroe":["FO"],"Atlantic/Jan_Mayen":["SJ"],"Atlantic/Madeira":["PT"],"Atlantic/Reykjavik":["IS"],"Atlantic/South_Georgia":["GS"],"Atlantic/St_Helena":["SH"],"Atlantic/Stanley":["FK"],"Australia/Adelaide":["AU"],"Australia/Brisbane":["AU"],"Australia/Broken_Hill":["AU"],"Australia/Darwin":["AU"],"Australia/Eucla":["AU"],"Australia/Hobart":["AU"],"Australia/Lindeman":["AU"],"Australia/Lord_Howe":["AU"],"Australia/Melbourne":["AU"],"Australia/Perth":["AU"],"Australia/Sydney":["AU"],"Canada/Eastern":["CA"],"Europe/Amsterdam":["NL"],"Europe/Andorra":["AD"],"Europe/Astrakhan":["RU"],"Europe/Athens":["GR"],"Europe/Belfast":["GB"],"Europe/Belgrade":["RS","BA","HR","ME","MK","SI"],"Europe/Berlin":["DE"],"Europe/Bratislava":["SK"],"Europe/Brussels":["BE"],"Europe/Bucharest":["RO"],"Europe/Budapest":["HU"],"Europe/Busingen":["DE"],"Europe/Chisinau":["MD"],"Europe/Copenhagen":["DK"],"Europe/Dublin":["IE"],"Europe/Gibraltar":["GI"],"Europe/Guernsey":["GG"],"Europe/Helsinki":["FI","AX"],"Europe/Isle_of_Man":["IM"],"Europe/Istanbul":["TR"],"Europe/Jersey":["JE"],"Europe/Kaliningrad":["RU"],"Europe/Kiev":["UA"],"Europe/Kirov":["RU"],"Europe/Lisbon":["PT"],"Europe/Ljubljana":["SI"],"Europe/London":["GB","GG","IM","JE"],"Europe/Luxembourg":["LU"],"Europe/Madrid":["ES"],"Europe/Malta":["MT"],"Europe/Mariehamn":["AX"],"Europe/Minsk":["BY"],"Europe/Monaco":["MC"],"Europe/Moscow":["RU"],"Europe/Oslo":["NO","SJ","BV"],"Europe/Paris":["FR"],"Europe/Podgorica":["ME"],"Europe/Prague":["CZ","SK"],"Europe/Riga":["LV"],"Europe/Rome":["IT","SM","VA"],"Europe/Samara":["RU"],"Europe/San_Marino":["SM"],"Europe/Sarajevo":["BA"],"Europe/Saratov":["RU"],"Europe/Simferopol":["RU","UA"],"Europe/Skopje":["MK"],"Europe/Sofia":["BG"],"Europe/Stockholm":["SE"],"Europe/Tallinn":["EE"],"Europe/Tirane":["AL"],"Europe/Ulyanovsk":["RU"],"Europe/Uzhgorod":["UA"],"Europe/Vaduz":["LI"],"Europe/Vatican":["VA"],"Europe/Vienna":["AT"],"Europe/Vilnius":["LT"],"Europe/Volgograd":["RU"],"Europe/Warsaw":["PL"],"Europe/Zagreb":["HR"],"Europe/Zaporozhye":["UA"],"Europe/Zurich":["CH","DE","LI"],GB:["GB"],"GB-Eire":["GB"],"Indian/Antananarivo":["MG"],"Indian/Chagos":["IO"],"Indian/Christmas":["CX"],"Indian/Cocos":["CC"],"Indian/Comoro":["KM"],"Indian/Kerguelen":["TF","HM"],"Indian/Mahe":["SC"],"Indian/Maldives":["MV"],"Indian/Mauritius":["MU"],"Indian/Mayotte":["YT"],"Indian/Reunion":["RE","TF"],NZ:["NZ"],"Pacific/Apia":["WS"],"Pacific/Auckland":["NZ","AQ"],"Pacific/Bougainville":["PG"],"Pacific/Chatham":["NZ"],"Pacific/Chuuk":["FM"],"Pacific/Easter":["CL"],"Pacific/Efate":["VU"],"Pacific/Fakaofo":["TK"],"Pacific/Fiji":["FJ"],"Pacific/Funafuti":["TV"],"Pacific/Galapagos":["EC"],"Pacific/Gambier":["PF"],"Pacific/Guadalcanal":["SB"],"Pacific/Guam":["GU","MP"],"Pacific/Honolulu":["US","UM"],"Pacific/Johnston":["UM"],"Pacific/Kanton":["KI"],"Pacific/Kiritimati":["KI"],"Pacific/Kosrae":["FM"],"Pacific/Kwajalein":["MH"],"Pacific/Majuro":["MH"],"Pacific/Marquesas":["PF"],"Pacific/Midway":["UM"],"Pacific/Nauru":["NR"],"Pacific/Niue":["NU"],"Pacific/Norfolk":["NF"],"Pacific/Noumea":["NC"],"Pacific/Pago_Pago":["AS","UM"],"Pacific/Palau":["PW"],"Pacific/Pitcairn":["PN"],"Pacific/Pohnpei":["FM"],"Pacific/Port_Moresby":["PG","AQ"],"Pacific/Rarotonga":["CK"],"Pacific/Saipan":["MP"],"Pacific/Samoa":["WS"],"Pacific/Tahiti":["PF"],"Pacific/Tarawa":["KI"],"Pacific/Tongatapu":["TO"],"Pacific/Wake":["UM"],"Pacific/Wallis":["WF"],Singapore:["SG"],"US/Arizona":["US"],"US/Hawaii":["US"],"US/Samoa":["WS"]}[e][0].toUpperCase()};return"America/Los_Angeles"===e&&(t.regionCode="US-CA"),"Europe/Zurich"===e&&(t.regionCode="CH-ZH"),t}},181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{error:()=>o,log:()=>a});const a=(e,...t)=>{i()&&("object"==typeof e?console.log("Pixel Manager: ",e,...t):t.length?console.log("Pixel Manager: "+e,...t):console.log("Pixel Manager: "+e))},o=(e,...t)=>{"object"==typeof e?console.error("Pixel Manager: ",e,...t):t.length?console.error("Pixel Manager: "+e,...t):console.error("Pixel Manager: "+e)},i=()=>!n()&&(!!s()||(!!c()||!!wpmDataLayer?.general?.logger?.is_active)),n=()=>(wpm.urlHasParameter("pmwloggeroff")&&wpm.storeData("loggerEnabled",!1),wpm.urlHasParameter("pmwloggeroff")),s=()=>wpm.retrieveData("loggerEnabled"),c=()=>(wpm.urlHasParameter("pmwloggeron")&&wpm.storeData("loggerEnabled",!0),wpm.urlHasParameter("pmwloggeron"))},189:(e,t,r)=>{r(783),window.wpm.loadConsentModule=async()=>{const e=await r.e(625).then(r.bind(r,153));window.wpm.consent=e;const t=await r.e(968).then(r.bind(r,857));return window.pmw=window.pmw||{},window.pmw.consent=window.pmw.consent||{},window.pmw.consent.api=t,e},window.pmw=window.pmw||{console:r(181)},r(616)},196:()=>{const e=e=>e=(e=e.replace(/<[^>]*>?/gm,"").replace(/\n/gm,"").replace(/\t/gm,"")).trim();jQuery("form.woocommerce-checkout").on("change","#shipping_method",r=>{r.target?.value&&r.target?.id&&t({slug:r.target.value,text:e(jQuery("label[for='"+r.target.id+"']").text())})}),jQuery(()=>{if(jQuery("#shipping_method").length){let r=jQuery("#shipping_method").find(":checked");if(r.length){if(!r.val())return;if(!r.attr("id"))return;t({slug:r.val(),text:e(jQuery("label[for='"+r.attr("id")+"']").text())})}}});const t=e=>{jQuery(document).trigger("pmw:add-shipping-info",{shippingTier:e})};let r=!1;jQuery("form.woocommerce-checkout").on("change",'input[name="payment_method"]',t=>{t.target.value&&t.target.id&&(a({slug:t.target.value,text:e(jQuery("label[for='"+t.target.id+"']").text())}),r=!0)}),jQuery(()=>{if(r)return;let t=jQuery('input[name="payment_method"]:checked');if(t.length){if(!t.val())return;if(!t.attr("id"))return;a({slug:t.val(),text:e(jQuery("label[for='"+t.attr("id")+"']").text())})}});const a=e=>{jQuery(document).trigger("pmw:add-payment-info",{paymentType:e})};jQuery(document).on("click",".remove_from_cart_button, .remove",e=>{try{let t=new URL(jQuery(e.currentTarget).attr("href")),r=wpm.getProductIdByCartItemKeyUrl(t);wpm.removeProductFromCart(r)}catch(e){console.error(e)}});const o=wpm.prepareSelectors([".checkout-button",".cart-checkout-button",".button.checkout",".xoo-wsc-ft-btn-checkout",".elementor-button--checkout",".xt_woofc-checkout",".fkcart-checkout--text"],"beginCheckout");jQuery(document).on("click init_checkout",o,()=>{jQuery(document).trigger("pmw:begin-checkout")}),jQuery(document).on("updated_cart_totals",()=>{jQuery(document).trigger("pmw:view-cart")}),jQuery(document).on("wpmLoad",e=>{jQuery(document).on("payment_method_selected",()=>{!1===wpm.paymentMethodSelected&&wpm.fireCheckoutProgress(3),wpm.fireCheckoutOption(3,jQuery("input[name='payment_method']:checked").val()),wpm.paymentMethodSelected=!0})}),jQuery(document).on("wpmLoad",()=>{try{wpm.initCart()}catch(e){console.error(e)}}),jQuery(document).on("wpmLoad",()=>{wpmDataLayer.products=wpmDataLayer.products||{};let e=wpm.getAddToCartLinkProductIds();wpm.getProductsFromBackend(e)}),jQuery(document).on("wpmLoad",()=>{if(!document.referrer)return;if(wpm.retrieveData("referrer"))return;let e=new URL(document.referrer).hostname;e!==window.location.host&&wpm.storeData("referrer",e)}),jQuery(document).on("wpmLoad",()=>{let e=wpm.getUrlParameter("gclid");e&&wpm.storeData("gclid",e);let t=wpm.getUrlParameter("wbraid");t&&wpm.storeData("wbraid",t);let r=wpm.getUrlParameter("gbraid");r&&wpm.storeData("gbraid",r);let a=wpm.getUrlParameter("fbclid");a&&(a="fb.1."+Math.floor(Date.now()/1e3)+"."+a,wpm.storeData("fbclid",a));let o=wpm.getUrlParameter("ttclid");o&&wpm.storeData("ttclid",o);let i=wpm.getUrlParameter("ScCid");i&&wpm.storeData("scid",i);let n=wpm.getUrlParameter("epik");n&&wpm.storeData("epik",n)}),jQuery(document).on("wpmLoad",()=>{try{if("undefined"!=typeof wpmDataLayer&&!wpmDataLayer?.pmw_loaded){if(jQuery(document).trigger("pmw:load-always"),wpmDataLayer?.shop)if("product"===wpmDataLayer.shop.page_type&&"variable"!==wpmDataLayer.shop.product_type&&wpm.getMainProductIdFromProductPage()){let e=wpm.getProductDataForViewItemEvent(wpm.getMainProductIdFromProductPage());jQuery(document).trigger("pmw:view-item",e)}else"product_category"===wpmDataLayer.shop.page_type?jQuery(document).trigger("pmw:view-category"):"search"===wpmDataLayer.shop.page_type?jQuery(document).trigger("pmw:search"):"cart"===wpmDataLayer.shop.page_type?jQuery(document).trigger("pmw:view-cart"):"order_received_page"===wpmDataLayer.shop.page_type?wpmDataLayer?.order&&!wpm.isOrderIdStored(wpmDataLayer.order.id)&&(jQuery(document).trigger("pmw:purchase"),wpm.writeOrderIdToStorage(wpmDataLayer.order.id,wpmDataLayer.order.key),"function"==typeof wpm.acrRemoveCookie&&wpm.acrRemoveCookie()):jQuery(document).trigger("pmw:everywhere-else");else jQuery(document).trigger("pmw:everywhere-else");wpmDataLayer?.user?.id&&!wpm.hasLoginEventFired()&&(jQuery(document).trigger("pmw:login"),wpm.setLoginEventFired()),wpmDataLayer.pmw_loaded=!0}}catch(e){console.error(e)}}),wpmDataLayer?.general?.lazy_load_pmw&&wpm.registerShowVariationEventListener(),jQuery(document).on("wpmLoad",()=>{if(wpmDataLayer?.general?.lazy_load_pmw)try{const e=jQuery(".variations_form");if(!e.length)return;const t={};if(!e.find("select").toArray().every(e=>{const r=jQuery(e).val();return!!r&&(t[jQuery(e).attr("name")]=r,!0)}))return;const r=e.data("product_variations");if(!r)return;const a=r.find(e=>Object.entries(t).every(([t,r])=>e.attributes[t]===r));a&&wpm.triggerViewItemEventPrep(a.variation_id)}catch(e){pmw.console.error(e)}}),jQuery(document).on("wpmLoad",async()=>{!1===wpm.retrieveData("restEndpointAvailable")&&pmw.console.error("REST endpoint is not available. Using admin-ajax.php instead.")}),jQuery(document).on("pmw:page-view",e=>{pmw.console.log("pmw:page-view event fired",{event:e});let t={event:"page_view",pixels:{}};if(wpmDataLayer?.pixels?.facebook?.loaded&&(t.pixels.facebook={event_name:"PageView",event_id:wpm.getFbRandomEventId(),user_data:wpm.getFbUserData(),event_source_url:window.location.href},wpm.retrieveData("referrer")&&(t.pixels.facebook.referrer_url=wpm.makeFullUrl(wpm.retrieveData("referrer")))),wpmDataLayer?.pixels?.reddit?.loaded){const e=wpm.getRedditS2SBaseData();t.pixels.reddit={...e,event_id:wpm.getRandomEventId(),event_type:{tracking_type:"PageVisit"},event_metadata:{conversion_id:wpm.getRandomEventId()}}}if(wpmDataLayer?.pixels?.snapchat?.loaded&&(t.pixels.snapchat=wpm.getSnapchatS2SBaseData(),t.pixels.snapchat.event_name="PAGE_VIEW"),jQuery(document).trigger("pmw:s2s:page-view",t),wpmDataLayer?.general?.server_2_server?.pageview_event_s2s?.is_active){const e=wpm.extractS2SData(t);Object.keys(e).length>1&&wpm.sendEventPayloadToServer(e)}}),jQuery(document).on("pmw:add-to-cart",async(e,t)=>{pmw.console.log("pmw:add-to-cart event fired",{event:e,product:t}),await wpm.processEvent("add_to_cart",{product:t})}),jQuery(document).on("pmw:remove-from-cart",async(e,t)=>{pmw.console.log("pmw:remove-from-cart event fired",{event:e,product:t}),await wpm.processEvent("remove_from_cart",{product:t})}),jQuery(document).on("pmw:select-item",async(e,t)=>{pmw.console.log("pmw:select-item event fired",{event:e,product:t}),await wpm.processEvent("select_item",{product:t})}),jQuery(document).on("pmw:begin-checkout",e=>{pmw.console.log("pmw:begin-checkout event fired",{event:e}),wpm.processEvent("begin_checkout",{})}),jQuery(document).on("pmw:add-payment-info",e=>{pmw.console.log("pmw:add-payment-info event fired",{event:e}),wpm.processEvent("add_payment_info",{})}),jQuery(document).on("pmw:add-to-wishlist",(e,t)=>{pmw.console.log("pmw:add-to-wishlist event fired",{event:e,product:t});let r={event:"add_to_wishlist",product:t,pixels:{}};wpmDataLayer?.pixels?.facebook?.loaded&&(r.pixels.facebook={event_name:"AddToWishlist",event_id:wpm.getFbRandomEventId(),user_data:wpm.getFbUserData(),event_source_url:window.location.href,custom_data:wpm.fbGetProductDataForCapiEvent(t)},wpm.retrieveData("referrer")&&(r.pixels.facebook.referrer_url=wpm.makeFullUrl(wpm.retrieveData("referrer")))),wpmDataLayer?.pixels?.tiktok?.loaded&&(r.pixels.tiktok={event:"AddToWishlist",event_id:wpm.getRandomEventId(),user:wpm.tiktokGetEventUserData(),page:wpm.tiktokGetEventPageData(),properties:{value:t.price*t.quantity,currency:t.currency,content_type:"product",contents:[{content_id:wpm.getProductIdForSpecificPixel(t,"tiktok"),content_name:t.name,quantity:t.quantity,price:t.price}]}}),wpmDataLayer?.pixels?.snapchat?.loaded&&(r.pixels.snapchat=wpm.getSnapchatS2SBaseData(),r.pixels.snapchat.event_name="ADD_TO_WISHLIST",r.pixels.snapchat.custom_data=wpm.getSnapchatCustomDataForProduct(t)),jQuery(document).trigger("pmw:s2s:add-to-wishlist",r),wpm.sendEventPayloadToServer(r)}),jQuery(document).on("pmw:view-item",(e,t=null)=>{pmw.console.log("pmw:view-item event fired",{event:e,product:t}),wpm.processEvent("view_item",{product:t})}),jQuery(document).on("pmw:view-category",(e,t=null)=>{pmw.console.log("pmw:view-category event fired",{event:e,product:t});let r={event:"view_category",pixels:{}};wpmDataLayer?.pixels?.pinterest?.loaded&&(r.pixels.pinterest=wpm.getPinterestS2SBaseData(),r.pixels.pinterest.event_name="viewcategory"),jQuery(document).trigger("pmw:s2s:view-category",r),wpm.sendEventPayloadToServer(r)}),jQuery(document).on("pmw:search",e=>{pmw.console.log("pmw:search event fired",{event:e}),wpm.processEvent("search",{})}),jQuery(document).on("pmw:place-order",e=>{pmw.console.log("pmw:place-order event fired",{event:e});let t={event:"place_order",pixels:{}};wpmDataLayer?.pixels?.tiktok?.loaded&&(t.pixels.tiktok={event:"PlaceAnOrder",event_id:wpm.getRandomEventId(),user:wpm.tiktokGetEventUserData(),page:wpm.tiktokGetEventPageData(),properties:wpm.tiktokGetPropertiesFromCart()}),jQuery(document).trigger("pmw:s2s:place-order",t),wpm.sendEventPayloadToServer(t)}),jQuery(document).on("pmw:purchase",async e=>{pmw.console.log("pmw:purchase event fired",{event:e}),await wpm.processEvent("purchase",{order:wpmDataLayer.order})}),jQuery(document).on("pmw:login",()=>{pmw.console.log("pmw:login event fired");let e={event:"login",pixels:{}};wpmDataLayer?.pixels?.snapchat?.loaded&&(e.pixels.snapchat=wpm.getSnapchatS2SBaseData(),e.pixels.snapchat.event_name="LOGIN"),jQuery(document).trigger("pmw:s2s:login",e),wpm.sendEventPayloadToServer(e)}),jQuery(document).on("pmw:ready",async()=>{wpm.isWooCommerceActive()&&(wpm.startIntersectionObserverToWatch(),wpm.startProductsMutationObserverToWatch())}),jQuery(document).on("pmw:load-pixels",()=>{wpm.waitForPixelsAndTriggerPageView()})},256:()=>{!function(e){e.pixelRegistry={getActivePixels(){const t=[];if(!e.pixelCapabilities)return t;for(const[r,a]of Object.entries(e.pixelCapabilities))if("function"==typeof a.isActive)try{a.isActive()&&t.push(r)}catch(e){pmw.console.error(`Error checking if ${r} is active:`,e)}return t},getActiveBrowserOnlyPixels(){const t=[],r=this.getActivePixels();for(const a of r)!0!==e.pixelCapabilities?.[a]?.supportsS2S&&t.push(a);return t},getActiveS2SPixels(){const t=[],r=this.getActivePixels();for(const a of r)!0===e.pixelCapabilities?.[a]?.supportsS2S&&t.push(a);return t},getAdapter:t=>e.adapters&&e.adapters[t]||null}}(window.wpm=window.wpm||{},jQuery)},263:(e,t,r)=>{!function(e){e.jQueryExists=async()=>new Promise(e=>{!function t(){if("undefined"!=typeof jQuery)return e();setTimeout(t,100)}()}),e.waitForLibrary=(e,t=5e3,r=100)=>{const a=Date.now();for(;void 0===window[e]&&!(Date.now()-a>t);)setTimeout(()=>{},r)},e.wpmDataLayerFullyLoaded=async()=>{let e=new Promise(e=>{!function t(){if("undefined"!=typeof wpmDataLayer&&void 0!==wpmDataLayer.version)return e();setTimeout(t,100)}()}),t=setTimeout(()=>{console.error("Pixel Manager error: The wpmDataLayer is not defined. Please make sure that the wpmDataLayer script snippet is inserted and not modified by any third-party plugin, such as a consent management platform or a JavaScript optimizer.")},6e3);return e.then(()=>{clearTimeout(t)}),e},e.wpHooksExists=async()=>new Promise(e=>{!function t(){if("undefined"!=typeof wp&&void 0!==wp.hooks)return e();setTimeout(t,50)}()}),e.loadWcHooksFunctions=async()=>{await e.wpHooksExists(),await r.e(194).then(r.t.bind(r,489,23))}}(window.wpm=window.wpm||{},jQuery)},265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.check=t.isSpecial=t.isReserved=t.isIPv4MappedAddress=t.isLocalhost=t.isPrivate=t.createChecker=t.isInSubnet=t.IPv6=t.IPv4=t.isIPv6=t.isIPv4=t.isIP=void 0;var a=r(618);t.IPv4=a;var o=r(160);t.IPv6=o;var i=r(609),n=r(609);function s(e,t){return c(t)(e)}function c(e){if(!Array.isArray(e))return c([e]);var t=e.reduce(function(e,t){var r=t.split("/")[0];return e[i.isIP(r)].push(t),e},{0:[],4:[],6:[]});if(0!==t[0].length)throw new Error("some subnets are not valid IP addresses: "+t[0]);var r=a.createChecker(t[4]),n=o.createChecker(t[6]);return function(e){if(!i.isIP(e))throw new Error("not a valid IPv4 or IPv6 address: "+e);return i.isIPv6(e)&&o.isIPv4MappedAddress(e)?n(e)||r(o.extractMappedIpv4(e)):i.isIPv6(e)?n(e):r(e)}}Object.defineProperty(t,"isIP",{enumerable:!0,get:function(){return n.isIP}}),Object.defineProperty(t,"isIPv4",{enumerable:!0,get:function(){return n.isIPv4}}),Object.defineProperty(t,"isIPv6",{enumerable:!0,get:function(){return n.isIPv6}}),t.isInSubnet=s,t.createChecker=c,t.isPrivate=function(e){return i.isIPv6(e)?o.isIPv4MappedAddress(e)?a.isPrivate(o.extractMappedIpv4(e)):o.isPrivate(e):a.isPrivate(e)},t.isLocalhost=function(e){return i.isIPv6(e)?o.isIPv4MappedAddress(e)?a.isLocalhost(o.extractMappedIpv4(e)):o.isLocalhost(e):a.isLocalhost(e)},t.isIPv4MappedAddress=function(e){return!!i.isIPv6(e)&&o.isIPv4MappedAddress(e)},t.isReserved=function(e){return i.isIPv6(e)?o.isIPv4MappedAddress(e)?a.isReserved(o.extractMappedIpv4(e)):o.isReserved(e):a.isReserved(e)},t.isSpecial=function(e){return i.isIPv6(e)?o.isIPv4MappedAddress(e)?a.isSpecial(o.extractMappedIpv4(e)):o.isSpecial(e):a.isSpecial(e)},t.check=s},503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={localhost:{ipv4:["127.0.0.0/8"],ipv6:["::1/128"]},private:{ipv4:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16"],ipv6:["fe80::/10","fc00::/7"]},reserved:{ipv4:["0.0.0.0/8","100.64.0.0/10","169.254.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","224.0.0.0/4","240.0.0.0/4","255.255.255.255/32"],ipv6:["::/128","64:ff9b::/96","100::/64","2001::/32","2001:10::/28","2001:20::/28","2001:db8::/32","2002::/16","ff00::/8"]}}},510:()=>{!function(e){window.pmw=window.pmw||{},pmw.hooks={filters:{},addFilter:function(e,t,r,a=10){e&&"string"==typeof e?t&&"string"==typeof t?"function"==typeof r?(this.filters[e]||(this.filters[e]=[]),this.filters[e].push({namespace:t,callback:r,priority:a}),this.filters[e].sort((e,t)=>e.priority-t.priority),pmw.console.log(`Filter added: ${e} (${t}) with priority ${a}`)):pmw.console.error("Invalid callback provided to addFilter"):pmw.console.error("Invalid namespace provided to addFilter"):pmw.console.error("Invalid hook name provided to addFilter")},applyFilters:function(e,t,...r){if(!this.filters[e]||0===this.filters[e].length)return t;let a=t;for(const t of this.filters[e])try{const o=t.callback(a,...r);undefined!==o?a=o:pmw.console.warn(`Filter ${t.namespace} on ${e} returned undefined, keeping previous value`)}catch(r){pmw.console.error(`Filter error in ${t.namespace} on ${e}:`,r)}return a},removeFilter:function(e,t){if(!this.filters[e])return;const r=this.filters[e].length;this.filters[e]=this.filters[e].filter(e=>e.namespace!==t),this.filters[e].length<r&&pmw.console.log(`Filter removed: ${e} (${t})`)},removeAllFilters:function(e){this.filters[e]&&(delete this.filters[e],pmw.console.log(`All filters removed for: ${e}`))},hasFilter:function(e,t=null){return!(!this.filters[e]||0===this.filters[e].length)&&(!t||this.filters[e].some(e=>e.namespace===t))},getFilters:function(e){return this.filters[e]||[]}},e.hooks=pmw.hooks}(window.wpm=window.wpm||{},jQuery)},547:()=>{!function(e){e.getLibraryVersion=()=>"1.54.1",e.checkLibraryVersion=()=>{e.getLibraryVersion()!==wpmDataLayer?.version?.number&&console.error(`Pixel Manager: The library version ${e.getLibraryVersion()} and wpmDataLayer.version.number ${wpmDataLayer.version.number} do not match. Delete the server-side cache and try again.`)}}(window.wpm=window.wpm||{},jQuery)},609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIP=t.isIPv6=t.isIPv4=void 0;var r="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="("+r+"[.]){3}"+r,o=new RegExp("^"+a+"$"),i="(?:[0-9a-fA-F]{1,4})",n=new RegExp("^((?:"+i+":){7}(?:"+i+"|:)|(?:"+i+":){6}(?:"+a+"|:"+i+"|:)|(?:"+i+":){5}(?::"+a+"|(:"+i+"){1,2}|:)|(?:"+i+":){4}(?:(:"+i+"){0,1}:"+a+"|(:"+i+"){1,3}|:)|(?:"+i+":){3}(?:(:"+i+"){0,2}:"+a+"|(:"+i+"){1,4}|:)|(?:"+i+":){2}(?:(:"+i+"){0,3}:"+a+"|(:"+i+"){1,5}|:)|(?:"+i+":){1}(?:(:"+i+"){0,4}:"+a+"|(:"+i+"){1,6}|:)|(?::((?::"+i+"){0,5}:"+a+"|(?::"+i+"){1,7}|:)))(%[0-9a-zA-Z]{1,})?$");function s(e){return o.test(e)}function c(e){return n.test(e)}t.isIPv4=s,t.isIPv6=c,t.isIP=function(e){return s(e)?4:c(e)?6:0}},616:(e,t,r)=>{!function(e,t,a){const{isRange:o,isIP:i,isV4:n,isV6:s,version:c}=r(723);let p=null,u=!1;const d={cloudflare:{any:"https://www.cloudflare.com/cdn-cgi/trace"},icanhazip:{4:"https://ipv4.icanhazip.com",6:"https://ipv6.icanhazip.com",any:"https://icanhazip.com"},ipinfo:{any:"https://ipinfo.io/ip"},myexternalip:{any:"https://myexternalip.com/raw"},ipify:{4:"https://api4.ipify.org",6:"https://api6.ipify.org",any:"https://api64.ipify.org"},identme:{4:"https://4.ident.me/",6:"https://6.ident.me/",any:"https://ident.me/"}},l=(e,t=3e3)=>{const r=new AbortController,a=setTimeout(()=>r.abort(),t);return fetch(e,{signal:r.signal}).finally(()=>clearTimeout(a))};e.getGeoInfo={cloudflare:async()=>{const e=await l("https://www.cloudflare.com/cdn-cgi/trace");if(!e.ok)throw new Error(`The response from Cloudflare was not OK. Status: ${e.status}`);let t=await e.text();if(!t)throw new Error("No data was returned from Cloudflare");if(t=t.trim().split("\n").reduce((e,t)=>(e[(t=t.split("="))[0]]=t[1],e),{}),!t.ip||!t.loc)throw new Error("The JSON data is missing the ip or loc key from Cloudflare");if(m(t.loc))throw new Error("We have to validate the region, and this service is not returning the region.");return{ip:t.ip,countryCode:t.loc,service:"cloudflare"}},geojs:async()=>{const e=await l("https://get.geojs.io/v1/ip/geo.json");if(!e.ok)throw new Error(`The response from geojs was not OK. Status: ${e.status}`);let t=await e.json();if(!t)throw new Error("No JSON data was returned from geojs");if(!t.ip||!t.country_code||!t.region)throw new Error("The JSON data is missing the ip, country_code, or region key from geojs");return{ip:t.ip,countryCode:t.country_code,region:t.region,service:"geojs"}},ipinfo:async()=>{const e=await l("https://ipinfo.io/json");if(!e.ok)throw new Error(`The response from ipinfo was not OK from ipinfo. Status: ${e.status}`);let t=await e.json();if(!t)throw new Error("No JSON data was returned from ipinfo");if(!t.ip||!t.country||!t.region)throw new Error("The JSON data is missing the ip, country, or region key from ipinfo");return{ip:t.ip,countryCode:t.country,region:t.region,service:"ipinfo"}},ipapi:async()=>{const e=await l("https://ipapi.co/json");if(!e.ok)throw new Error(`The response from ipapi was not OK. Status: ${e.status}`);let t=await e.json();if(!t)throw new Error("No JSON data was returned from ipapi");if(!t.ip||!t.country||!t.region)throw new Error("The JSON data is missing the ip, country, or region key from ipapi");return{ip:t.ip,countryCode:t.country,region:t.region,service:"ipapi"}}};const m=e=>{if("US "!==e)return!1;return["US-CA","US-VA"].some(e=>wpmDataLayer?.general?.consent_management.restricted_regions.includes(e))};e.isVisitorAllowed=async()=>{if(null!==e.retrieveData("visitorAllowed")&&e.retrieveData("visitorAllowed")!==a)return!!JSON.parse(e.retrieveData("visitorAllowed"));if(e.isBotUserAgent())return e.storeData("visitorAllowed",!1),!1;if(Array.isArray(wpmDataLayer?.general?.server_2_server?.ip_exclude_list)&&wpmDataLayer.general.server_2_server.ip_exclude_list.length>0){const t=await e.getIp();if(f(t))return e.storeData("visitorAllowed",!1),!1}return e.storeData("visitorAllowed",!0),!0},e.isValidIpAddress=t=>!(!t||"string"!=typeof t)&&(!!i(t)&&!e.isPrivateOrReservedIp(t)),e.isPrivateOrReservedIp=e=>{if(!e)return!0;const t=n(e)?["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","127.0.0.0/8","169.254.0.0/16","0.0.0.0/8"]:["::1/128","fc00::/7","fe80::/10","::/128"];try{const a=r(265);for(const r of t)if(a.isInSubnet(e,r))return!0}catch(t){if(n(e)){if(e.startsWith("10.")||e.startsWith("192.168.")||e.startsWith("127.")||e.startsWith("169.254.")||e.startsWith("0."))return!0;const t=e.split(".");if("172"===t[0]){const e=parseInt(t[1],10);if(e>=16&&e<=31)return!0}}else if("::1"===e||e.startsWith("fc")||e.startsWith("fd")||e.startsWith("fe80:"))return!0}return!1},e.getClientIp=async()=>{const t=e.retrieveData("client_ip");return t&&e.isValidIpAddress(t)?t:(p&&!u||(u=!1,p=(async()=>{try{const t=e.getIpWithTimeout("6",2e3),r=e.getIp("any"),[a,o]=await Promise.allSettled([t,r]);let i=null;return"fulfilled"===a.status&&a.value?(i=a.value,pmw.console.log(`Using IPv6 address: ${i}`)):"fulfilled"===o.status&&o.value&&(i=o.value,pmw.console.log(`IPv6 not available, using IP: ${i}`)),i&&e.isValidIpAddress(i)?(e.storeData("client_ip",i),u=!0,i):(u=!0,null)}catch(e){return pmw.console.error("Error detecting client IP:",e),u=!0,null}})()),p)},e.getIpWithTimeout=async(t,r)=>Promise.race([e.getIp(t),new Promise((e,a)=>setTimeout(()=>a(new Error(`IPv${t} detection timed out after ${r}ms`)),r))]).catch(e=>(pmw.console.log(e.message),null)),e.getIp=async(t="any",r=3)=>{const o=["any","4","6"];if(!o.includes(t))return console.error("The version argument must be one of the following: "+o.join(", ")),null;if("any"===t&&e.retrieveData("ip"))return e.retrieveData("ip");const n=e.retrieveData(`ipv${t}`);if(n!==a)return n;pmw.console.log("Testing the IP address of the browser because one ore more server-to-server APIs are enabled and require the browser IP. It may trigger connection request errors in the console while testing the IP address. This is normal and expected behavior.");try{const a=await e.getIpFromAnyService(t,r);return a&&!i(a)?(pmw.console.warn(`Invalid IP address received: ${a}`),null):("any"===t&&a&&e.storeData("ip",a),(4===c(a)||"4"===t&&null===a)&&e.storeData("ipv4",a),(6===c(a)||"6"===t&&null===a)&&e.storeData("ipv6",a),a)}catch(e){return null}},e.getBrowserGeoFromExternalService=async()=>{const t=performance.now();let r=[];Object.keys(e.getGeoInfo).forEach(t=>{r.push(e.getGeoInfo[t]())});try{const e=await Promise.any(r);return e.countryCode=e.countryCode.toUpperCase(),e.region&&"California"===e.region&&(e.regionCode="US-CA"),e.region&&"Virginia"===e.region&&(e.regionCode="US-VA"),pmw.console.log("Retrieved the browser geo info from an external service: ",e," which took ",(performance.now()-t).toFixed(2)+" ms"),e}catch(e){return pmw.console.error("error: ",e),null}};e.getBrowserGeo=async()=>{let t={};if(e.retrieveData("geoCountryCode")&&(t.countryCode=e.retrieveData("geoCountryCode")),e.retrieveData("geoRegionCode")&&(t.regionCode=e.retrieveData("geoRegionCode")),e.retrieveData("geoRegion")&&(t.region=e.retrieveData("geoRegion")),t.countryCode)return pmw.console.log("Retrieved the browser geo location from the cache: ",t),t;let a=await e.getBrowserGeoFromExternalService();if(!a){const e=(()=>{const e=r(179).getLocationByTimeZone();return e.countryCode?e:null})();a={},e&&pmw.console.log("Retrieved the browser geo location from the timezone: ",e),e.countryCode&&(a.countryCode=e.countryCode),e.regionCode&&(a.regionCode=e.regionCode)}return a?.ip&&e.storeData("ip",a.ip),a?.countryCode&&e.storeData("geoCountryCode",a.countryCode),a?.regionCode&&e.storeData("geoRegionCode",a.regionCode),a?.region&&e.storeData("geoRegion",a.region),a?.countryCode?a:null},e.getIpFromAnyService=async(t="any",r=3)=>{const a=performance.now(),o=Object.keys(d).filter(e=>d[e][t]).slice(0,r).reduce((e,t)=>(e[t]=d[t],e),{});let i=[];if(Object.keys(o).forEach(r=>{o[r][t]&&i.push(e.getIpFromService(r,t))}),!(i.length>0))return pmw.console.log("No promises to resolve"),null;try{const e=await Promise.any(i),t=(performance.now()-a).toFixed(2);return pmw.console.log(`Retrieved the IP address ${e.ip} from ${e.service} which took ${t} ms`),e.ip}catch(e){return pmw.console.log(`Could not retrieve an IP with version ${t} from any of the services.`),null}},e.getIpFromService=async(e,t="any")=>{try{let r={ip:null,service:e,ipVersion:t};if(!d[e][t])return Promise.reject(new Error(`The IP version ${t} is not available for the service ${e}`));pmw.console.log(`Fetching IP from ${e} using IP version ${t}`);const a=await l(d[e][t]);if(!a.ok)return Promise.reject(new Error(`The response from ${e} was not OK. Status: ${a.status}`));let o=await a.text();return"cloudflare"===e?(o=o.trim().split("\n").reduce((e,t)=>(e[(t=t.split("="))[0]]=t[1],e),{}),r.ip=o.ip):r.ip=o.trim(),i(r.ip)?r:Promise.reject(new Error(`The returned value from ${e} is not an IP address`))}catch(e){return Promise.reject(e)}};e.isVisitorNotAllowed=async()=>!1===await e.isVisitorAllowed(),e.isBotUserAgent=()=>{const e=navigator.userAgent||"";if(!e)return!0;const t=w();for(const r of t)if(e.toLowerCase().includes(r.toLowerCase()))return!0;return!1};const w=()=>{let e=[];Array.isArray(wpmDataLayer?.general?.server_2_server?.user_agent_exclude_patterns)&&(e=wpmDataLayer.general.server_2_server.user_agent_exclude_patterns);return["Googlebot","Google-InspectionTool","Google-Extended","Storebot-Google","bingbot","BingPreview","msnbot","Slurp","DuckDuckBot","Baiduspider","YandexBot","Sogou","facebookexternalhit","FacebookBot","LinkedInBot","Twitterbot","PinterestBot","TikTokBot","SnapchatAds","DiscordBot","InstagramBot","WhatsApp","AhrefsBot","SemrushBot","MJ12bot","DotBot","rogerbot","UptimeRobot","Pingdom","StatusCake","GTmetrix","ClaudeBot","GPTBot","ChatGPT","anthropic-ai","CCBot","PerplexityBot","crawler","spider","scraper","bot/","/bot","bot-"].concat(e)},g=e=>e.includes("/"),f=e=>{const t=wpmDataLayer?.general?.server_2_server?.ip_exclude_list||[];for(const r of t)if(g(r)){if(isInSubnet.isInSubnet(e,r))return!0}else if(e===r)return!0;return!1}}(window.wpm=window.wpm||{},jQuery)},618:function(e,t,r){"use strict";var a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],n=0,s=i.length;n<s;n++,o++)a[o]=i[n];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isSpecial=t.isReserved=t.isLocalhost=t.isPrivate=t.createChecker=t.isInSubnet=void 0;var o=r(609),i=r(503);function n(e){if(!o.isIPv4(e))throw new Error("not a valid IPv4 address: "+e);var t=e.split(".");return(parseInt(t[0],10)<<24)+(parseInt(t[1],10)<<16)+(parseInt(t[2],10)<<8)+parseInt(t[3],10)>>>0}function s(e){if(Array.isArray(e)){var t=e.map(function(e){return c(e)});return function(e){var r=n(e);return t.some(function(e){return e(r)})}}var r=c(e);return function(e){var t=n(e);return r(t)}}function c(e){var t=e.split("/"),r=t[0],a=t[1],o=parseInt(a,10);if(!r||!Number.isInteger(o))throw new Error("not a valid IPv4 subnet: "+e);if(o<0||o>32)throw new Error("not a valid IPv4 prefix length: "+o+" (from "+e+")");var i=n(r);return function(e){return 0===o||i>>32-o===e>>32-o}}t.isInSubnet=function(e,t){return s(t)(e)},t.createChecker=s;var p={};t.isPrivate=function(e){return"private"in p==!1&&(p.private=s(i.default.private.ipv4)),p.private(e)},t.isLocalhost=function(e){return"localhost"in p==!1&&(p.localhost=s(i.default.localhost.ipv4)),p.localhost(e)},t.isReserved=function(e){return"reserved"in p==!1&&(p.reserved=s(i.default.reserved.ipv4)),p.reserved(e)},t.isSpecial=function(e){return"special"in p==!1&&(p.special=s(a(i.default.private.ipv4,i.default.localhost.ipv4,i.default.reserved.ipv4))),p.special(e)}},722:()=>{const e=wpm.prepareSelectors([".add_to_cart_button:not(.product_type_variable)",".ajax_add_to_cart",".single_add_to_cart_button"],"addToCart");jQuery(e).on("click adding_to_cart",(e,t)=>{try{let t=e?.target?.dataset?.quantity?e.target.dataset.quantity:null,r=e?.target?.dataset?.product_id?e.target.dataset.product_id:e?.target?.value?e.target.value:null;if("product"===wpmDataLayer.shop.page_type){if(void 0!==jQuery(e.currentTarget).attr("href")&&jQuery(e.currentTarget).attr("href").includes("add-to-cart"))return r||(r=jQuery(e.currentTarget).data("product_id")),void wpm.addProductToCart(r,1);if("simple"===wpmDataLayer.shop.product_type)return null===t&&(t=Number(jQuery(".input-text.qty").val())?Number(jQuery(".input-text.qty").val()):1),r||(r=jQuery(e.currentTarget).val()),r||(r=jQuery(".product").attr("id").replace("product-","")),void wpm.addProductToCart(r,t);if(["variable","variable-subscription"].indexOf(wpmDataLayer.shop.product_type)>=0)return null===t&&(t=Number(jQuery(".input-text.qty").val())?Number(jQuery(".input-text.qty").val()):1),r||(r=jQuery("[name='variation_id']").val()),void wpm.addProductToCart(r,t);if("grouped"===wpmDataLayer.shop.product_type)return void jQuery(".woocommerce-grouped-product-list-item").each((e,a)=>{t=Number(jQuery(a).find(".input-text.qty").val())?Number(jQuery(a).find(".input-text.qty").val()):1;let o=jQuery(a).attr("class");r=wpm.getPostIdFromString(o),wpm.addProductToCart(r,t)});if("bundle"===wpmDataLayer.shop.product_type)return null===t&&(t=Number(jQuery(".input-text.qty").val())?Number(jQuery(".input-text.qty").val()):1),r||(r=jQuery("input[name=add-to-cart]").val()),void wpm.addProductToCart(r,t);null===t&&(t=Number(jQuery(".input-text.qty").val())?Number(jQuery(".input-text.qty").val()):1),wpm.addProductToCart(r,t)}else null===t&&(t=1),r||(r=jQuery(e.currentTarget).data("product_id")?jQuery(e.currentTarget).data("product_id"):null),r||(r=jQuery(e.currentTarget).val()?jQuery(e.currentTarget).val():null),r&&t&&wpm.addProductToCart(r,t)}catch(e){console.error(e)}}),jQuery("a:not(.add_to_cart_button, .ajax_add_to_cart, .single_add_to_cart_button)").one("click",e=>{try{if(jQuery(e.target).closest("a").attr("href")){let t=new URL(jQuery(e.currentTarget).attr("href"),window.location.origin);if(t.searchParams.has("add-to-cart")){let e=t.searchParams.get("add-to-cart"),r=t.searchParams.has("quantity")?parseInt(t.searchParams.get("quantity"),10):1;wpm.addProductToCart(e,r)}}}catch(e){console.error(e)}}),jQuery(".woocommerce-LoopProduct-link, .wc-block-grid__product, .product, .product-small, .type-product").on("click",e=>{try{let t=jQuery(e.currentTarget).nextAll(".wpmProductId:first").data("id");if(t){if(t=wpm.getIdBasedOndVariationsOutputSetting(t),!t)throw Error("Wasn't able to retrieve a productId");if(wpmDataLayer.products&&wpmDataLayer.products[t]){let e=wpm.getProductDetailsFormattedForEvent(t);jQuery(document).trigger("pmw:select-item",e)}}}catch(e){console.error(e)}}),jQuery("#billing_email").on("input",e=>{wpm.isEmail(jQuery(e.currentTarget).val())&&(wpm.fireCheckoutProgress(2),wpm.emailSelected=!0)}),jQuery("form.checkout").on("checkout_place_order_success",()=>{!1===wpm.emailSelected&&wpm.fireCheckoutProgress(2),!1===wpm.paymentMethodSelected&&(wpm.fireCheckoutProgress(3),wpm.fireCheckoutOption(3,jQuery("input[name='payment_method']:checked").val())),wpm.fireCheckoutProgress(4),jQuery(document).trigger("pmw:place-order",{})}),jQuery(document).on("click","[name='update_cart']",()=>{try{jQuery(".cart_item").each((e,t)=>{const r=wpm.getProductIdByCartItemElement(t);if(!r)return void console.error("Pixel Manager: Wasn't able to retrieve a productId");const a=wpm.getProductQuantityByCartItemElement(t);a?0===a?wpm.removeProductFromCart(r):a<wpmDataLayer.cart[r].quantity?wpm.removeProductFromCart(r,wpmDataLayer.cart[r].quantity-a):a>wpmDataLayer.cart[r].quantity&&wpm.addProductToCart(r,a-wpmDataLayer.cart[r].quantity):console.error("Pixel Manager: Wasn't able to retrieve a quantity")})}catch(e){console.error(e),wpm.getCartItemsFromBackend()}}),jQuery(".add_to_wishlist,.wl-add-to").on("click",e=>{try{let t;if(jQuery(e.currentTarget).data("productid")?t=jQuery(e.currentTarget).data("productid"):jQuery(e.currentTarget).data("product-id")&&(t=jQuery(e.currentTarget).data("product-id")),!t)throw Error("Wasn't able to retrieve a productId");let r=wpm.getProductDetailsFormattedForEvent(t);jQuery(document).trigger("pmw:add-to-wishlist",r)}catch(e){console.error(e)}}),wpmDataLayer?.general?.lazy_load_pmw||wpm.registerShowVariationEventListener()},723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{displayIP:()=>w,inRange:()=>l,isIP:()=>s,isRange:()=>d,isV4:()=>p,isV6:()=>u,searchIP:()=>m,storeIP:()=>m,version:()=>c});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var i=o(function(e){(function(){var t,r,a,o,i,n,s,c;r={},null!==e&&e.exports?e.exports=r:this.ipaddr=r,s=function(e,t,r,a){var o,i;if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(o=0;a>0;){if((i=r-a)<0&&(i=0),e[o]>>i!==t[o]>>i)return!1;a-=r,o+=1}return!0},r.subnetMatch=function(e,t,r){var a,o,i,n,s;for(i in null==r&&(r="unicast"),t)for(!(n=t[i])[0]||n[0]instanceof Array||(n=[n]),a=0,o=n.length;a<o;a++)if(s=n[a],e.kind()===s[0].kind()&&e.match.apply(e,s))return i;return r},r.IPv4=function(){function e(e){var t,r,a;if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(t=0,r=e.length;t<r;t++)if(!(0<=(a=e[t])&&a<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.kind=function(){return"ipv4"},e.prototype.toString=function(){return this.octets.join(".")},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return s(this.octets,e.octets,8,t)},e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.range=function(){return r.subnetMatch(this,this.SpecialRanges)},e.prototype.toIPv4MappedAddress=function(){return r.IPv6.parse("::ffff:"+this.toString())},e.prototype.prefixLengthFromSubnetMask=function(){var e,t,r,a,o,i,n;for(n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},e=0,o=!1,t=r=3;r>=0;t=r+=-1){if(!((a=this.octets[t])in n))return null;if(i=n[a],o&&0!==i)return null;8!==i&&(o=!0),e+=i}return 32-e},e}(),a="(0?\\d+|0x[a-f0-9]+)",o={fourOctet:new RegExp("^"+a+"\\."+a+"\\."+a+"\\."+a+"$","i"),longValue:new RegExp("^"+a+"$","i")},r.IPv4.parser=function(e){var t,r,a,i,n;if(r=function(e){return"0"===e[0]&&"x"!==e[1]?parseInt(e,8):parseInt(e)},t=e.match(o.fourOctet))return function(){var e,o,i,n;for(n=[],e=0,o=(i=t.slice(1,6)).length;e<o;e++)a=i[e],n.push(r(a));return n}();if(t=e.match(o.longValue)){if((n=r(t[1]))>4294967295||n<0)throw new Error("ipaddr: address outside defined range");return function(){var e,t;for(t=[],i=e=0;e<=24;i=e+=8)t.push(n>>i&255);return t}().reverse()}return null},r.IPv6=function(){function e(e,t){var r,a,o,i,n,s;if(16===e.length)for(this.parts=[],r=a=0;a<=14;r=a+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(o=0,i=(s=this.parts).length;o<i;o++)if(!(0<=(n=s[o])&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.kind=function(){return"ipv6"},e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},e.prototype.toRFC5952String=function(){var e,t,r,a,o;for(a=/((^|:)(0(:|$)){2,})/g,o=this.toNormalizedString(),e=0,t=-1;r=a.exec(o);)r[0].length>t&&(e=r.index,t=r[0].length);return t<0?o:o.substring(0,e)+"::"+o.substring(e+t)},e.prototype.toByteArray=function(){var e,t,r,a,o;for(e=[],t=0,r=(o=this.parts).length;t<r;t++)a=o[t],e.push(a>>8),e.push(255&a);return e},e.prototype.toNormalizedString=function(){var e,t,r;return e=function(){var e,r,a,o;for(o=[],e=0,r=(a=this.parts).length;e<r;e++)t=a[e],o.push(t.toString(16));return o}.call(this).join(":"),r="",this.zoneId&&(r="%"+this.zoneId),e+r},e.prototype.toFixedLengthString=function(){var e,t,r;return e=function(){var e,r,a,o;for(o=[],e=0,r=(a=this.parts).length;e<r;e++)t=a[e],o.push(t.toString(16).padStart(4,"0"));return o}.call(this).join(":"),r="",this.zoneId&&(r="%"+this.zoneId),e+r},e.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return s(this.parts,e.parts,16,t)},e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.range=function(){return r.subnetMatch(this,this.SpecialRanges)},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.toIPv4Address=function(){var e,t,a;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return e=(a=this.parts.slice(-2))[0],t=a[1],new r.IPv4([e>>8,255&e,t>>8,255&t])},e.prototype.prefixLengthFromSubnetMask=function(){var e,t,r,a,o,i,n;for(n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},e=0,o=!1,t=r=7;r>=0;t=r+=-1){if(!((a=this.parts[t])in n))return null;if(i=n[a],o&&0!==i)return null;16!==i&&(o=!0),e+=i}return 128-e},e}(),i="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",n={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+i+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+i+")|(?:::)(?:"+i+")?)"+a+"\\."+a+"\\."+a+"\\."+a+"("+c+")?$","i")},t=function(e,t){var r,a,o,i,s,c;if(e.indexOf("::")!==e.lastIndexOf("::"))return null;for((c=(e.match(n.zoneIndex)||[])[0])&&(c=c.substring(1),e=e.replace(/%.+$/,"")),r=0,a=-1;(a=e.indexOf(":",a+1))>=0;)r++;if("::"===e.substr(0,2)&&r--,"::"===e.substr(-2,2)&&r--,r>t)return null;for(s=t-r,i=":";s--;)i+="0:";return":"===(e=e.replace("::",i))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){var t,r,a,i;for(i=[],t=0,r=(a=e.split(":")).length;t<r;t++)o=a[t],i.push(parseInt(o,16));return i}(),zoneId:c}},r.IPv6.parser=function(e){var r,a,o,i,s,c,p;if(n.native.test(e))return t(e,8);if((i=e.match(n.transitional))&&(p=i[6]||"",(r=t(i[1].slice(0,-1)+p,6)).parts)){for(a=0,o=(c=[parseInt(i[2]),parseInt(i[3]),parseInt(i[4]),parseInt(i[5])]).length;a<o;a++)if(!(0<=(s=c[a])&&s<=255))return null;return r.parts.push(c[0]<<8|c[1]),r.parts.push(c[2]<<8|c[3]),{parts:r.parts,zoneId:r.zoneId}}return null},r.IPv4.isIPv4=r.IPv6.isIPv6=function(e){return null!==this.parser(e)},r.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},r.IPv4.isValidFourPartDecimal=function(e){return!(!r.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},r.IPv6.isValid=function(e){var t;if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return new this((t=this.parser(e)).parts,t.zoneId),!0}catch(e){return!1}},r.IPv4.parse=function(e){var t;if(null===(t=this.parser(e)))throw new Error("ipaddr: string is not formatted like ip address");return new this(t)},r.IPv6.parse=function(e){var t;if(null===(t=this.parser(e)).parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(t.parts,t.zoneId)},r.IPv4.parseCIDR=function(e){var t,r,a;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]))>=0&&t<=32)return a=[this.parse(r[1]),t],Object.defineProperty(a,"toString",{value:function(){return this.join("/")}}),a;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},r.IPv4.subnetMaskFromPrefixLength=function(e){var t,r,a;if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(a=[0,0,0,0],r=0,t=Math.floor(e/8);r<t;)a[r]=255,r++;return t<4&&(a[t]=Math.pow(2,e%8)-1<<8-e%8),new this(a)},r.IPv4.broadcastAddressFromCIDR=function(e){var t,r,a,o,i;try{for(a=(t=this.parseCIDR(e))[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],r=0;r<4;)o.push(parseInt(a[r],10)|255^parseInt(i[r],10)),r++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},r.IPv4.networkAddressFromCIDR=function(e){var t,r,a,o,i;try{for(a=(t=this.parseCIDR(e))[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],r=0;r<4;)o.push(parseInt(a[r],10)&parseInt(i[r],10)),r++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},r.IPv6.parseCIDR=function(e){var t,r,a;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]))>=0&&t<=128)return a=[this.parse(r[1]),t],Object.defineProperty(a,"toString",{value:function(){return this.join("/")}}),a;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},r.isValid=function(e){return r.IPv6.isValid(e)||r.IPv4.isValid(e)},r.parse=function(e){if(r.IPv6.isValid(e))return r.IPv6.parse(e);if(r.IPv4.isValid(e))return r.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},r.parseCIDR=function(e){try{return r.IPv6.parseCIDR(e)}catch(t){try{return r.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},r.fromByteArray=function(e){var t;if(4===(t=e.length))return new r.IPv4(e);if(16===t)return new r.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},r.process=function(e){var t;return"ipv6"===(t=this.parse(e)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}).call(a)}),n=o(function(e,t){const r=function(e){if(!o(e))throw new Error("Invalid address: "+e);const t=(e=e.toLowerCase()).split(/\:\:/g);if(t.length>2)throw new Error("Invalid address: "+e);let r=[];if(1==t.length){if(r=e.split(/\:/g),8!==r.length)throw new Error("Invalid address: "+e)}else if(2==t.length){const e=t[0],a=t[1],o=e.split(/\:/g),i=a.split(/\:/g);for(let e in o)r[e]=o[e];for(let e=i.length;e>0;--e)r[7-(i.length-e)]=i[e-1]}for(let e=0;e<8;++e)void 0===r[e]&&(r[e]="0000"),r[e]=i(r[e],"0",4);return r.join(":")},a=function(e){if(!o(e))throw new Error("Invalid address: "+e);const t=(e=(e=(e=(e=(e=(e=r(e)).replace(/0000/g,"g")).replace(/\:000/g,":")).replace(/\:00/g,":")).replace(/\:0/g,":")).replace(/g/g,"0")).split(/\:/g);let a=!1,i=-1,n=0,s=-1,c=0;for(let e=0;e<8;++e){const r=t[e];let o="0"===r;o&&!a&&(s=e),!o&&a&&(c=e-s),c>1&&c>n&&(i=s,n=c),a="0"===r}return a&&(c=8-s),c>1&&c>n&&(i=s,n=c),i>=0&&n>1&&t.splice(i,n,"g"),e=(e=(e=(e=(e=t.join(":")).replace(/\:g\:/g,"::")).replace(/\:g/g,"::")).replace(/g\:/g,"::")).replace(/g/g,"::")},o=function(e){return/^[a-f0-9\\:]+$/gi.test(e)},i=function(e,t,r){const a=t.repeat(r);return e.length<a.length&&(e=a.substring(0,a.length-e.length)+e),e},n=function(e){return parseInt(e,16).toString(2)},s=function(e){return parseInt(e,2).toString(16)},c=function(e){const t=r(e).split(":");let a="";for(const e of t)a+=i(n(e),"0",16);return a},p=function(e){const t=[];for(let r=0;r<8;++r){const a=e.substr(16*r,16),o=i(s(a),"0",4);t.push(o)}return t.join(":")},u=function(e,t,r,n,s){if(!o(e))throw new Error("Invalid address: "+e);if(n*=1,r=(r*=1)||128,(t*=1)<1||r<1||t>128||r>128||t>r)throw new Error("Invalid masks.");const u=[],d=c(e).substr(0,t),l="0".repeat(128-r),m=Math.pow(2,r-t);for(let e=0;e<m&&!(n&&e>=n);++e){const o=i(e.toString(2),"0",r-t),n=p(d+o+l);s?u.push(a(n)):u.push(n)}return u},d=function(e,t,r,i){if(!o(e))throw new Error("Invalid address: "+e);if(r=(r*=1)||128,(t*=1)<1||r<1||t>128||r>128||t>r)throw new Error("Invalid masks.");const n=c(e).substr(0,t),s="0".repeat(128-r),u=n+"0".repeat(r-t)+s,d=n+"1".repeat(r-t)+s;return i?{start:a(p(u)),end:a(p(d)),size:Math.pow(2,r-t)}:{start:p(u),end:p(d),size:Math.pow(2,r-t)}},l=function(e,t,r,i,n){if(!o(e))throw new Error("Invalid address: "+e);if(r=(r*=1)||128,i=(i*=1)||1,(t*=1)<1||r<1||t>128||r>128||t>r)throw new Error("Invalid masks.");const s=[],u=c(e).substr(0,t),d="0".repeat(128-r),l=Math.pow(2,r-t);for(let e=0;e<l&&e<i;++e){let e="";for(let a=0;a<r-t;++a)e+=Math.floor(2*Math.random());const o=p(u+e+d);n?s.push(a(o)):s.push(o)}return s},m=function(e,t){if(!o(e))throw new Error("Invalid address: "+e);if((t*=1)<1||t>128||Math.floor(t/4)!=t/4)throw new Error("Invalid masks.");return r(e).replace(/:/g,"").split("").reverse().slice(0,(128-t)/4).join(".")};t.normalize=r,t.abbreviate=a,t.divideSubnet=u,t.range=d,t.randomSubnet=l,t.ptr=m});n.normalize,n.abbreviate,n.divideSubnet,n.range,n.randomSubnet,n.ptr;function s(e){return i.isValid(e)}function c(e){try{var t=i.parse(e).kind();return"ipv4"===t?4:"ipv6"===t?6:0}catch(e){return 0}}function p(e){return 4===c(e)}function u(e){return 6===c(e)}function d(e){try{i.parseCIDR(e);return!0}catch(e){return!1}}function l(e,t){if("string"!=typeof t){if(t&&"object"==typeof t){for(var r in t)if(!0===l(e,t[r]))return!0;return!1}return!1}if(-1===t.indexOf("/"))return e=u(e)?n.normalize(e):e,s(t=u(t)?n.normalize(t):t)&&e===t;try{var a=t.split("/"),o=i.parse(e),c=i.parse(a[0]);return o.match(c,a[1])}catch(e){return!1}}function m(e){try{var t=i.parse(e),r=t.kind();return"ipv4"===r?e:"ipv6"===r?t.isIPv4MappedAddress()?t.toIPv4Address().toString():n.abbreviate(e):null}catch(e){return null}}function w(e){try{var t=i.parse(e),r=t.kind();return"ipv4"===r?e:"ipv6"===r?t.isIPv4MappedAddress()?t.toIPv4Address().toString():n.normalize(e):""}catch(e){return""}}},783:()=>{!function(e){const t="restEndpointAvailable",r="pmw/v1/test/",a=0,o=10;e.emailSelected=!1,e.paymentMethodSelected=!1,e.isBelowRestErrorThreshold=()=>e.retrieveData(a)<=o,e.isRestEndpointAvailable=async()=>e.retrieveData(t)?e.retrieveData(t):await e.testEndpoint(),e.testEndpoint=async(a=e.root+r,o=t)=>{try{const t=await fetch(a,{method:"POST",mode:"cors",cache:"no-cache",keepalive:!0,redirect:"error"});if(!t.ok)return e.storeData(o,!1),pmw.console.error("Error testing the endpoint. Status: "+t.status+" | response: ",t),!1;const r=await t.json();return r.success?(e.storeData(o,!0),!0):(e.storeData(o,!1),pmw.console.error("Error testing the endpoint. Response JSON: "+JSON.stringify(r)),!1)}catch(t){return e.storeData(o,!1),pmw.console.error("Error testing the endpoint. Error: "+t),!1}},e.isWpmRestEndpointAvailable=(r=t)=>!!e.retrieveData(r),e.writeOrderIdToStorage=(t,r,a="thankyou_page")=>{let o=e.retrieveData("orderIds",!0)||[];o.push(t),e.storeData("orderIds",o,!0),"function"==typeof e.storeOrderIdOnServer&&e.storeOrderIdOnServer({orderId:t,orderKey:r,source:a})},e.isOrderIdStored=t=>{if(!wpmDataLayer.shop.order_duplication_prevention)return pmw.console.log("order duplication prevention is off"),!1;return(e.retrieveData("orderIds",!0)||[]).includes(t)},e.isEmail=e=>new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$').test(e),e.removeProductFromCart=async(t,r=null)=>{try{if(!t)throw Error("Wasn't able to retrieve a productId");if(!(t=e.getIdBasedOndVariationsOutputSetting(t)))throw Error("Wasn't able to retrieve a productId");let a;a=null==r?wpmDataLayer.cart[t].quantity:r,wpmDataLayer.cart[t]||await e.getProductsFromBackend([t]);let o=e.getProductDetailsFormattedForEvent(t,a);jQuery(document).trigger("pmw:remove-from-cart",o),null==r||wpmDataLayer.cart[t].quantity===r?delete wpmDataLayer.cart[t]:wpmDataLayer.cart[t].quantity=wpmDataLayer.cart[t].quantity-a,e.storeCartData(wpmDataLayer.cart)}catch(e){pmw.console.error("error: ",e)}},e.getIdBasedOndVariationsOutputSetting=e=>{try{return wpmDataLayer?.shop?.variations_output?e:wpmDataLayer.products[e].is_variation?wpmDataLayer.products[e].parent_id:e}catch(e){console.error(e)}},e.prepareSelectors=(e,t)=>(wpmDataLayer?.shop?.selectors?.[t]&&(e=e.concat(wpmDataLayer.shop.selectors[t]),(e=[...new Set(e)]).indexOf("document")>=0&&e.splice(e.indexOf("document"),1),e.indexOf("body")>=0&&(e=["body"])),e.join(", ")),e.addProductToCart=async(t,r)=>{r=Number(r);try{if(!t)throw Error("Wasn't able to retrieve a productId");if(!(t=e.getIdBasedOndVariationsOutputSetting(t)))throw Error("Wasn't able to retrieve a productId");wpmDataLayer?.products[t]||await e.getProductsFromBackend([t]);let a=e.getProductDetailsFormattedForEvent(t,r);jQuery(document).trigger("pmw:add-to-cart",a),wpmDataLayer?.cart[t]?wpmDataLayer.cart[t].quantity=wpmDataLayer.cart[t].quantity+r:("cart"in wpmDataLayer||(wpmDataLayer.cart={}),wpmDataLayer.cart[t]=e.getProductDetailsFormattedForEvent(t,r)),e.storeCartData(wpmDataLayer.cart)}catch(t){console.error(t),e.getCartItemsFromBackend()}},e.initCart=()=>{e.doesWooCommerceCartExist()||0===Object.keys(e.retrieveCartData()).length?e.retrieveCartData()?e.saveCartObjectToDataLayer(e.retrieveCartData()):(e.storeCartData({}),e.getCartItemsFromBackend()):e.storeCartData({})},e.getCartItemsFromBackend=()=>{try{fetch(e.ajax_url,{method:"POST",cache:"no-cache",body:new URLSearchParams({action:"pmw_get_cart_items"}),keepalive:!0,redirect:"error"}).then(e=>{if(e.ok)return e.json();throw Error("Error getting cart items from backend")}).then(t=>{if(!t.success)throw Error("Error getting cart items from backend");t.data.cart||(t.data.cart={}),e.saveCartObjectToDataLayer(t.data.cart),e.storeCartData(t.data.cart)})}catch(e){console.error(e)}},e.getProductsFromBackend=async t=>{if(wpmDataLayer?.products&&(t=t.filter(e=>!(e in wpmDataLayer.products))),t&&0!==t.length&&wpmDataLayer.general.page_id&&Array.isArray(t)&&0!==t.length){try{let r={action:"pmw_get_product_ids",page_id:wpmDataLayer.general.page_id,page_type:wpmDataLayer.shop.page_type,product_ids:t};const a=await e.isRestEndpointAvailable(),o=a?e.root+"pmw/v1/products/":e.ajax_url,i={method:"POST",cache:"no-cache",body:a?JSON.stringify(r):new URLSearchParams(r)};a&&(i.headers={"Content-Type":"application/json"});let n=await fetch(o,i);if(!n.ok)throw new Error("Error getting products from backend. Status: "+n.status+" Status text: "+n.statusText);let s=await n.json();if(!s.success)throw new Error("Error getting products from backend: "+s.data);wpmDataLayer.products=Object.assign({},wpmDataLayer.products,s.data)}catch(e){console.error(e)}return!0}},e.saveCartObjectToDataLayer=e=>{wpmDataLayer.cart=e,wpmDataLayer.products=Object.assign({},wpmDataLayer.products,e)},e.triggerViewItemEventPrep=async t=>{wpmDataLayer?.products[t]||await e.getProductsFromBackend([t]),wpmDataLayer?.products[t]?e.triggerViewItemEvent(t):(e.triggerViewItemEventNoProduct(),pmw.console.log(`Product with ID ${t} not found in the data layer and couldn't be retrieved from the backend. Triggering view-item event without product data.`))},e.triggerViewItemEvent=t=>{let r=e.getProductDetailsFormattedForEvent(t);r&&jQuery(document).trigger("pmw:view-item",r)},e.triggerViewItemEventNoProduct=()=>{jQuery(document).trigger("pmw:view-item")},e.fireCheckoutOption=(e,t=null,r=null)=>{let a={step:e,checkout_option:t,value:r};jQuery(document).trigger("pmw:checkout-option",a)},e.fireCheckoutProgress=e=>{let t={step:e};jQuery(document).trigger("pmw:checkout-progress",t)},e.getPostIdFromString=e=>{try{return e.match(/(post-)(\d+)/)[2]}catch(e){console.error(e)}},e.triggerViewItemList=t=>{if(!t)throw Error("Wasn't able to retrieve a productId");if(!(t=e.getIdBasedOndVariationsOutputSetting(t)))throw Error("Wasn't able to retrieve a productId");jQuery(document).trigger("pmw:view-item-list",e.getProductDataForViewItemEvent(t))},e.getProductDataForViewItemEvent=t=>{if(!t)throw Error("Wasn't able to retrieve a productId");try{if(wpmDataLayer.products[t])return e.getProductDetailsFormattedForEvent(t)}catch(e){console.error(e)}},e.getMainProductIdFromProductPage=()=>{try{return["simple","variable","grouped","composite","bundle"].indexOf(wpmDataLayer.shop.product_type)>=0&&jQuery(".wpmProductId:first").data("id")}catch(e){console.error(e)}},e.viewItemListTriggerTestMode=e=>{jQuery(e).css({position:"relative"}),jQuery(e).append('<div id="viewItemListTriggerOverlay"></div>'),jQuery(e).find("#viewItemListTriggerOverlay").css({"z-index":"10",display:"block",position:"absolute",height:"100%",top:"0",left:"0",right:"0",opacity:wpmDataLayer.shop.view_item_list_trigger.opacity,"background-color":wpmDataLayer.shop.view_item_list_trigger.background_color})},e.getSearchTermFromUrl=()=>{try{return new URLSearchParams(window.location.search).get("s")}catch(e){console.error(e)}};let i,n={};e.observerCallback=(t,r)=>{t.forEach(t=>{try{let a,o=jQuery(t.target).data("ioid");if(a=jQuery(t.target).next(".wpmProductId").length?jQuery(t.target).next(".wpmProductId").data("id"):jQuery(t.target).find(".wpmProductId").data("id"),!a)throw Error("wpmProductId element not found");t.isIntersecting?n[o]=setTimeout(()=>{e.triggerViewItemList(a),wpmDataLayer.shop.view_item_list_trigger.test_mode&&e.viewItemListTriggerTestMode(t.target),!1===wpmDataLayer.shop.view_item_list_trigger.repeat&&r.unobserve(t.target)},wpmDataLayer.shop.view_item_list_trigger.timeout):(clearTimeout(n[o]),wpmDataLayer.shop.view_item_list_trigger.test_mode&&jQuery(t.target).find("#viewItemListTriggerOverlay").remove())}catch(e){console.error(e)}})};let s=0;let c={nested:[],flat:[]};const p=e=>["product","type-product","product-item-inner",...c.nested].some(t=>jQuery(e).closest("."+t).length),u=e=>["wc-block-grid__product","product","product-small","woocommerce-LoopProduct-link",...c.flat].some(t=>jQuery(e).prev().hasClass(t)),d=()=>(c=(()=>{let e={nested:[],flat:[]};try{const t=(e,t)=>jQuery(e).parents().length===jQuery(t).parents().length,r=(e,t)=>jQuery(e).parent().is(jQuery(t).parent())?{node:jQuery(e).parent(),type:"flat"}:{node:jQuery(e).parents().has(jQuery(t).parents()).first(),type:"nested"},a=e=>jQuery(e).find(".wpmProductId").length,o=(e,t)=>e.filter(e=>t.includes(e))[0]||null,i=document.querySelectorAll(".wpmProductId");if(1===i.length)return e;for(let n=0;n<i.length-1;n++){if(!t(i[n],i[n+1])){n++;continue}let s=r(i[n],i[n+1]);if("nested"===s.type){let t=s.node.children().first().attr("class"),r=t?t.split(" "):[],a=s.node.children().first().next().attr("class");const i=o(r,a?a.split(" "):[]);e.nested.push(i)}else if("flat"===s.type){if(!s.node.children().first().attr("class"))continue;let t=s.node.children().first().attr("class").split(" ")[0];e.flat.push(t)}n=n+a(s.node)-1}return e.nested=[...new Set(e.nested)],e.flat=[...new Set(e.flat)],e}catch(t){return console.error(t),e}})(),jQuery(".wpmProductId").map(function(e,t){return p(t)?jQuery(t).parent():u(t)?jQuery(this).prev():jQuery(t).closest(".product").length?jQuery(t).closest(".product"):void 0}));e.startIntersectionObserverToWatch=()=>{try{e.urlHasParameter("vildemomode")&&(wpmDataLayer.shop.view_item_list_trigger.test_mode=!0),i=new IntersectionObserver(e.observerCallback,{root:null,threshold:wpmDataLayer.shop.view_item_list_trigger.threshold}),d().each((e,t)=>{jQuery(t[0]).data("ioid",s++),i.observe(t[0])})}catch(e){console.error(e)}},e.startProductsMutationObserverToWatch=()=>{try{let e=jQuery(".wpmProductId:eq(0)").parents().has(jQuery(".wpmProductId:eq(1)").parents()).first();e.length&&l.observe(e[0],{attributes:!0,childList:!0,characterData:!0})}catch(e){console.error(e)}};const l=new MutationObserver(e=>{e.forEach(e=>{let t=e.addedNodes;if(null!==t){jQuery(t).each((e,t)=>{(p(t)||u(t))&&m(t)&&(jQuery(t).data("ioid",s++),i.observe(t))})}})});let m=e=>!(!jQuery(e).find(".wpmProductId").length&&!jQuery(e).siblings(".wpmProductId").length);e.setCookie=(e,t="",r=null)=>{if(r){let a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3);let o="expires="+a.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}else document.cookie=e+"="+t+";path=/"},e.getCookie=e=>{let t=e+"=",r=decodeURIComponent(document.cookie).split(";");for(let e=0;e<r.length;e++){let a=r[e];for(;" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},e.getCookieThatContainsRegex=e=>{let t=document.cookie.split(";");for(let r=0;r<t.length;r++){let a=t[r].trim();if(e.test(a))return a}return!1},e.deleteCookie=t=>{e.setCookie(t,"",-1)},e.storeData=(t,r,a=!1,o=!1)=>{const i=o?t:"";let n=a?e.getPersistentData:e.getSessionData,s=a?e.setPersistentData:e.setSessionData,c=n(i);o?c=r:c[t]=r,s(c,i)},e.retrieveData=(t,r=!1,a=!1)=>{const o=a?t:"";let i=r?e.getPersistentData(o):e.getSessionData(o);return a?i:i[t]},e.deleteDataKey=(t,r=!1,a=!1)=>{const o=a?t:"";let i=r?e.getPersistentData:e.getSessionData,n=r?e.setPersistentData:e.setSessionData,s=i(o);if(a)try{r&&window.localStorage&&window.localStorage.removeItem(e.getPersistentDataKey(o)),!r&&window.sessionStorage&&window.sessionStorage.removeItem(e.getSessionDataKey(o))}catch(e){console.error(e)}else delete s[t],n(s,o)},e.storeCartData=t=>{e.storeData("cart",t,!1,!0)},e.retrieveCartData=()=>e.retrieveData("cart",!1,!0),e.getSessionDataKey=(e="")=>{const t="_pmw_session_data";return e?t+"_"+e:t},e.getPersistentDataKey=e=>{const t="_pmw_persistent_data";return e?t+"_"+e:t},e.getSessionData=(t="")=>{if(window.sessionStorage){let r=window.sessionStorage.getItem(e.getSessionDataKey(t));return null!==r?JSON.parse(r):{}}{let r=e.getCookie(e.getSessionDataKey(t));return""!==r?JSON.parse(r):{}}},e.setSessionData=(t,r="")=>{window.sessionStorage?window.sessionStorage.setItem(e.getSessionDataKey(r),JSON.stringify(t)):e.setCookie(e.getSessionDataKey(r),JSON.stringify(t))},e.getPersistentData=t=>{if(window.localStorage){let r=window.localStorage.getItem(e.getPersistentDataKey(t));return null!==r?JSON.parse(r):{}}{let r=e.getCookie(e.getPersistentDataKey(t));return""!==r?JSON.parse(r):{}}},e.setPersistentData=(t,r="")=>{window.localStorage?window.localStorage.setItem(e.getPersistentDataKey(r),JSON.stringify(t)):e.setCookie(e.getPersistentDataKey(r),JSON.stringify(t),400)},e.storeOrderIdOnServer=async t=>{try{let r;await e.isRestEndpointAvailable()?r=await fetch(e.root+"pmw/v1/pixels-fired/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:t.orderId,order_key:t.orderKey,source:t.source}),keepalive:!0,cache:"no-cache",redirect:"error"}):(pmw.console.log("REST API not available, falling back to AJAX"),r=await fetch(e.ajax_url,{method:"POST",body:new URLSearchParams({action:"pmw_purchase_pixels_fired",order_id:t.orderId,order_key:t.orderKey,source:t.source}),keepalive:!0,redirect:"error"}));const a=await r.json();a.success?pmw.console.log("",a.data):pmw.console.error("",a.data)}catch(e){console.error(e)}},e.getProductIdByCartItemElement=t=>{const r=jQuery(t).find(".product-remove").find("a").attr("href");if(r)return e.getProductIdByCartItemKeyUrl(new URL(r));const a=jQuery(t).find("[data-product_id]").first().attr("data-product_id");return a||null},e.getProductQuantityByCartItemElement=e=>jQuery(e).find(".qty").val()||null,e.getProductIdByCartItemKeyUrl=e=>{let t,r=new URLSearchParams(e.search).get("remove_item");return t=0===wpmDataLayer.cart_item_keys[r].variation_id?wpmDataLayer.cart_item_keys[r].product_id:wpmDataLayer.cart_item_keys[r].variation_id,t},e.getAddToCartLinkProductIds=()=>jQuery("a").map(function(){let e=jQuery(this).attr("href");if(e&&e.includes("?add-to-cart=")){let t=e.match(/(add-to-cart=)(\d+)/);if(t)return t[2]}}).get(),e.getProductDetailsFormattedForEvent=(e,t=1)=>{if(!wpmDataLayer.products[e])return null;let r={id:e.toString(),dyn_r_ids:wpmDataLayer.products[e].dyn_r_ids,name:wpmDataLayer.products[e].name,list_name:wpmDataLayer.shop.list_name,brand:wpmDataLayer.products[e].brand,category:wpmDataLayer.products[e].category,variant:wpmDataLayer.products[e].variant,list_position:wpmDataLayer.products[e].position,quantity:t,price:wpmDataLayer.products[e].price,currency:wpmDataLayer.shop.currency,is_variable:wpmDataLayer.products[e].is_variable,is_variation:wpmDataLayer.products[e].is_variation,parent_id:wpmDataLayer.products[e].parent_id};return r.is_variation&&(r.parent_id_dyn_r_ids=wpmDataLayer.products[e].parent_id_dyn_r_ids),r},e.getClidFromBrowser=(t="gclid")=>{let r;if(r={gclid:"_gcl_aw",dclid:"_gcl_dc"},e.getCookie(r[t])){return e.getCookie(r[t]).match(/(GCL.[\d]*.)(.*)/)[2]}return""},e.getUserAgent=()=>navigator.userAgent,e.getViewPort=()=>({width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}),e.consoleLogVersion=()=>{console.log(wpmDataLayer.version)};const w=new Set;e.loadScriptAndCacheIt=(e,t)=>{if(w.has(e))return pmw.console.log("Script already loaded: "+e),Promise.resolve();const r=e=>new Promise((t,r)=>{if(document.querySelector(`script[src="${e}"]`))return w.add(e),pmw.console.log("Script tag already exists: "+e),void t();const a=document.createElement("script");a.src=e,a.async=!0,a.crossOrigin="anonymous",a.onload=()=>{w.add(e),pmw.console.log("Successfully loaded script: "+e),t()},a.onerror=()=>{a.remove(),r(new Error("Script failed to load: "+e))},document.head.appendChild(a)});return r(e).catch(()=>{if(t)return pmw.console.log("Primary script failed, loading fallback: "+t),r(t);throw new Error("Primary script failed to load, and no fallback URL provided.")}).catch(e=>{if(e.message.includes("fallback"))throw e;throw new Error("Both primary and fallback scripts failed to load.")})},e.getOrderItemPrice=e=>(e.total+e.total_tax)/e.quantity,e.hasLoginEventFired=()=>{let t=e.getSessionData();return t?.loginEventFired},e.setLoginEventFired=()=>{let t=e.getSessionData();t.loginEventFired=!0,e.setSessionData(t)},e.pageLoaded=async()=>new Promise(e=>{!function t(){if("complete"===document.readyState)return e();setTimeout(t,50)}()}),e.pageReady=()=>new Promise(e=>{!function t(){if("interactive"===document.readyState||"complete"===document.readyState)return e();setTimeout(t,50)}()}),e.isMiniCartActive=()=>(window.sessionStorage&&Object.keys(window.sessionStorage).forEach(e=>{if(e.includes("wc_fragments"))return!0}),!1),e.doesWooCommerceCartExist=()=>document.cookie.includes("woocommerce_items_in_cart"),e.urlHasParameter=e=>new URLSearchParams(window.location.search).has(e),e.getUrlParameter=e=>new URLSearchParams(window.location.search).get(e),e.hashAsync=(e,t)=>crypto.subtle.digest(e,new TextEncoder("utf-8").encode(t)).then(e=>Array.prototype.map.call(new Uint8Array(e),e=>("00"+e.toString(16)).slice(-2)).join("")),e.getCartValue=()=>{let e=0;if(wpmDataLayer?.cart)for(const t in wpmDataLayer.cart){let r=wpmDataLayer.cart[t];e+=r.quantity*r.price}return e},e.doesUrlContainPatterns=e=>{for(const t of e)if(new RegExp(t).test(window.location.href))return!0;return!1},e.excludeDomainFromTracking=()=>{let e=["appspot.com","translate.google.com"];return wpmDataLayer?.general?.exclude_domains&&(e=[...e,...wpmDataLayer.general.exclude_domains]),!!e.some(e=>window.location.href.includes(e))&&(console.debug("Pixel Manager: Aborted due to excluded domain"),!0)},e.getRandomEventId=(e=16)=>{let t="";for(;t.length<e;)t+=(Math.random()+1).toString(36).substring(2);return t.substring(0,e)},e.pmwConsoleMessage=()=>{let e="Pixel Manager for WooCommerce: ";e+=wpmDataLayer.version.pro?"pro":"free",e+=" | distro: "+wpmDataLayer.version.distro,"fms"===wpmDataLayer.version.distro&&wpmDataLayer.version.pro&&(e+=" | active license: "+(wpmDataLayer.version.eligible_for_updates?"yes":"no")),e+=" | version: "+wpmDataLayer.version.number,!0===wpmDataLayer.version.show?console.log(e):pmw.console.log(e)},e.canLoadPremiumFeatures=()=>"fms"===wpmDataLayer.version.distro&&wpmDataLayer.version.pro&&wpmDataLayer.version.eligible_for_updates||"wcm"===wpmDataLayer.version.distro;let g=!1;e.triggerPmwDomReadyEvent=()=>{g||("complete"!==document.readyState?(jQuery(()=>{f()}),document.addEventListener("DOMContentLoaded",()=>{f()},!0)):f())};const f=()=>{g||(document.dispatchEvent(new Event("pmw:dom:ready")),g=!0)};e.getEmailFromTarget=t=>{if(t.href){let r=t.href.replace("mailto:","");if(r.indexOf("?")>-1&&(r=r.split("?")[0]),r=r.replace(/\s/g,""),r&&e.isEmail(r))return r}return""},e.sendEventPayloadToServer=t=>{"function"==typeof e.sendEventPayloadToServerPremium&&e.sendEventPayloadToServerPremium(t)},e.waitForPixelsAndTriggerPageView=async()=>new Promise(e=>{if(!wpmDataLayer?.pixels)return pmw.console.error("wpmDataLayer or wpmDataLayer.pixels is not defined, triggering page view event immediately."),document.dispatchEvent(new Event("pmw:page-view")),void e();let t=wpmDataLayer?.general?.server_2_server?.pageview_event_s2s?.pixels||[];if(t=t.filter(e=>wpmDataLayer.pixels[e]),0===t.length)return pmw.console.log("No specific pixels to wait for, triggering page view event."),document.dispatchEvent(new Event("pmw:page-view")),void e();const r=()=>{t.every(e=>!wpmDataLayer.pixels[e]||wpmDataLayer.pixels[e].loaded)?(document.dispatchEvent(new Event("pmw:page-view")),e()):setTimeout(r,100)};r()}),e.isWooCommerceActive=()=>!!wpmDataLayer.shop,e.getProductIdForSpecificPixel=(e,t)=>String(e.dyn_r_ids[wpmDataLayer.pixels[t].dynamic_remarketing.id_type]),e.isInWooCommerceSesssion=()=>{if(wpmDataLayer?.shop?.session_active)return!0;let t=new RegExp("woocommerce_cart_hash");return!!e.getCookieThatContainsRegex(t)},e.isNotInWooCommerceSesssion=()=>!e.isInWooCommerceSesssion(),e.makeFullUrl=e=>(e=e.trim(),/^(http:\/\/|https:\/\/)/.test(e)?e:"https://"+(e=e.replace(/^\/+/,""))),e.registerShowVariationEventListener=()=>{let t=null;jQuery(".single_variation_wrap").on("show_variation",(r,a)=>{try{let r=e.getIdBasedOndVariationsOutputSetting(a.variation_id);if(!r)throw Error("Wasn't able to retrieve a productId");t!==a.variation_id&&(e.triggerViewItemEventPrep(r),t=a.variation_id)}catch(e){console.error(e)}})},e.initializeCommandQueue=()=>{const e=window._pmwq=window._pmwq||[];e.forEach(function(e){if("function"==typeof e)try{e()}catch(e){pmw.console.error("Error executing queued command:",e)}}),e.push=function(e){if("function"==typeof e)try{e()}catch(e){pmw.console.error("Error executing command from queue:",e)}}}}(window.wpm=window.wpm||{},jQuery)},975:()=>{!function(e){e.getConsentContext=function(){const t=e.consent?.categories?.get()||{statistics:!0,marketing:!0,preferences:!0,necessary:!0};return{categories:{statistics:t.statistics,marketing:t.marketing,preferences:t.preferences,necessary:t.necessary},visitor_has_chosen:e.consent?.settings?.get()?.visitorHasChosen??!1,explicit_mode:e.consent?.explicitConsentModeActive?.()??!1}},e.getEventContext=function(){return{timestamp:Math.floor(Date.now()/1e3),url:window.location.href,referrer:e.retrieveData("referrer")?e.makeFullUrl(e.retrieveData("referrer")):document.referrer,user_agent:navigator.userAgent,page_type:wpmDataLayer?.shop?.page_type,user_id:wpmDataLayer?.user?.id?.raw||null,consent:e.getConsentContext()}},e.processEvent=async function(t,r){pmw.console.log(`Processing event: ${t}`,r);try{let a={event:t,event_data:r,pixels:{},context:e.getEventContext()};a=pmw.hooks.applyFilters("pmw_event_payload_pre",a,t);const o=e.pixelRegistry.getActivePixels();for(const r of o){const o=e.pixelRegistry.getAdapter(r);if(o&&"function"==typeof o.adapt)try{let e=await o.adapt(a.event_data,t,a.context);if(!e)continue;e=pmw.hooks.applyFilters(`pmw_pixel_data_${r}`,e,t,a.event_data,a.context),a.pixels[r]=e}catch(e){pmw.console.error(`Error adapting data for ${r}:`,e)}else pmw.console.log(`No adapter found for pixel: ${r}`)}return a=pmw.hooks.applyFilters(`pmw_event_payload_${t}`,a,a.event_data),a=pmw.hooks.applyFilters("pmw_event_payload_post",a,t),await e.dispatchToPixels(a),a}catch(e){throw pmw.console.error(`Error processing event ${t}:`,e),e}},e.dispatchToPixels=async function(t){const r=t.event;if(e.dispatchToBrowserPixels(t),e.dispatchToS2SPixels(t),e.dispatchPublicEvent(t),"purchase"!==r){if(wpmDataLayer?.general?.server_2_server?.active){const a=e.extractS2SData(t);if(Object.keys(a).length>0){const t=e.pixelRegistry.getActiveS2SPixels();pmw.console.log(`S2S enabled pixels for ${r}:`,t),await e.sendEventPayloadToServer(a)}}}else pmw.console.log("Purchase event - skipping browser-to-server transmission (handled server-side only)")},e.dispatchToBrowserPixels=function(t){const r=e.pixelRegistry.getActiveBrowserOnlyPixels();if(0===r.length)return;pmw.console.log(`Dispatching to browser-only pixels for ${t.event}:`,r);const a=t.event.replace(/_/g,"-");jQuery(document).trigger(`pmw:browser:${a}`,t)},e.dispatchToS2SPixels=function(t){if(0===e.pixelRegistry.getActiveS2SPixels().length)return;const r=t.event.replace(/_/g,"-");jQuery(document).trigger(`pmw:s2s:${r}`,t)},e.dispatchPublicEvent=function(e){const t=e.event.replace(/_/g,"-");jQuery(document).trigger(`pmw:event:${t}`,e),pmw.console.log(`Public event dispatched: pmw:event:${t}`,e)},e.extractS2SData=function(t){const r={event:t.event},a=e.pixelRegistry.getActiveS2SPixels();for(const e of a)t.pixels[e]&&(r[e]=t.pixels[e]);return t.event_data?.product&&(r.product=t.event_data.product),r},e.adapters||(e.adapters={}),e.registerAdapter=function(t,r,a={}){r&&"function"==typeof r.adapt?(e.adapters[t]=r,e.pixelCapabilities||(e.pixelCapabilities={}),e.pixelCapabilities[t]={supportsS2S:a.supportsS2S||!1,supportsEventDeduplication:a.supportsEventDeduplication||!1,isActive:a.isActive||null}):pmw.console.error(`Invalid adapter for ${t}: must have an adapt() method`)}}(window.wpm=window.wpm||{},jQuery)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e].call(r.exports,r,r.exports,n),r.exports}n.m=o,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>({194:"wc-hooks",264:"deprecated-functions",526:"pixel-facebook",625:"consent-management",671:"pixel-google",818:"pixel-hotjar",968:"consent-api",972:"doofinder-listener"}[e]+"."+{194:"748deb38",264:"9b411c79",526:"4af64a20",625:"414e6bb6",671:"bd13f2ac",818:"05256bbc",968:"12d29397",972:"8afb6ac4"}[e]+".chunk.min.js"),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="Pixel Manager for WooCommerce:",n.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==o)for(var p=document.getElementsByTagName("script"),u=0;u<p.length;u++){var d=p[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",a+o),s.src=e),r[e]=[t];var l=(t,a)=>{s.onerror=s.onload=null,clearTimeout(m);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(a)),t)return t(a)},m=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),c&&document.head.appendChild(s)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((r,o)=>a=e[t]=[r,o]);r.push(a[2]=o);var i=n.p+n.u(t),s=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,o,[i,s,c]=r,p=0;if(i.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)c(n)}for(t&&t(r);p<i.length;p++)o=i[p],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkPixel_Manager_for_WooCommerce=self.webpackChunkPixel_Manager_for_WooCommerce||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();(async()=>{if(n(263),n(547),await wpm.jQueryExists(),await wpm.wpmDataLayerFullyLoaded(),wpmDataLayer?.general?.chunk_base_path&&(n.p=wpmDataLayer.general.chunk_base_path),n(189),n(510),n(256),n(975),wpm.initializeCommandQueue(),wpm.pmwConsoleMessage(),await wpm.loadConsentModule(),await wpm.consent.load(),jQuery(()=>{n(722)}),n(196),n.e(972).then(n.t.bind(n,282,23)),wpm.loadWcHooksFunctions(),wpm.excludeDomainFromTracking())return;const e=[];if(wpmDataLayer?.pixels?.google&&e.push(n.e(671).then(n.t.bind(n,62,23))),wpmDataLayer?.pixels?.facebook&&e.push(n.e(526).then(n.t.bind(n,767,23))),wpmDataLayer?.pixels?.hotjar&&e.push(n.e(818).then(n.t.bind(n,155,23))),await Promise.all(e),!1!==wpmDataLayer?.general?.modules?.load_deprecated_functions){const{loadDeprecatedFunctions:e}=await n.e(264).then(n.bind(n,549));e()}document.dispatchEvent(new Event("pmw:load-pixels")),document.dispatchEvent(new Event("wpmLoad")),await wpm.pageLoaded(),document.dispatchEvent(new Event("pmw:ready")),wpm.triggerPmwDomReadyEvent(),wpm.checkLibraryVersion()})()})();
//# sourceMappingURL=wpm-public.p1.min.js.map